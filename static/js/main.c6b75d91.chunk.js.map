{"version":3,"sources":["images/distributed-voting-platform.png","images/ethereum-logo.png","images/metamask-logo.png","images/no-acceptance.png","images/no-metamask.png","images/wrong-network.png","utils/enums.ts","components/about/AboutPage.tsx","components/common/Header.tsx","utils/eth.ts","components/createVote/AnswersList.tsx","components/createVote/CategoryPanel.tsx","components/createVote/VoteDates.tsx","components/createVote/PrivilegedAddresses.tsx","components/createVote/VoteTypePanel.tsx","components/createVote/CreateVoteForm.tsx","components/createVote/DisplayResult.tsx","components/createVote/LoadingResult.tsx","components/createVote/CreateVotePage.tsx","components/vote/NotFoundModal.tsx","components/vote/ResultsPieChart.tsx","components/vote/VoteModal.tsx","components/vote/ResultsModal.tsx","components/home/HomePage.tsx","components/home/NoAccessPage.tsx","components/listvotings/CategoryDropdown.tsx","components/listvotings/PrivacyButtons.tsx","components/listvotings/VotingList.tsx","components/listvotings/ListVotingsPanel.tsx","components/listvotings/ListVotingsPage.tsx","components/App.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","CategoryPanelType","PageMode","PrivacySetting","ResultStatus","Validation","VoteType","VotingExpiryOption","VotingState","AboutPage","react_default","a","createElement","Grid","Row","Col","md","style","fontWeight","marginTop","marginBottom","textAlign","fontSize","target","rel","href","display","marginLeft","marginRight","maxHeight","maxWidth","src","EthereumLogo","DVPLogo","MetaMaskLogo","mdOffset","Component","Header","react","Navbar","fluid","fixedTop","collapseOnSelect","Nav","bsStyle","justified","lib","to","disabled","this","props","block","NavItem","fetchCategories","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee2","blockchainData","web3","managerInstance","numberOfCategories","categoryPromises","wrap","_context2","prev","next","manager","t0","parseInt","methods","call","t1","sent","toConsumableArray","Array","keys","map","_ref2","_callee","index","categoryAddress","categoryContract","categoryName","_context","categoryContractsList","eth","Contract","CategoryAbi","abi","utils","toUtf8","abrupt","name","address","stop","_x2","apply","arguments","Promise","all","_x","fetchVotings","_ref3","_callee4","category","votingState","categoryInstance","now","numberOfVotings","votingPromises","_context4","moment","utc","unix","numberOfContracts","_ref4","_callee3","votingAddress","votingInstance","resp","info","testPassed","_context3","votingContracts","VotingAbi","viewContractInfo","question","answers","raw","hexToUtf8","votingEndTime","resultsEndTime","isPrivate","isPrivileged","hasUserVoted","Active","Passive","Disabled","accounts","hasVoted","contract","_x6","then","votings","filter","v","_x3","_x4","_x5","submitVote","_ref5","_callee5","voting","answerIndex","_context5","options","from","vote","send","_x7","_x8","_x9","fetchVoting","_ref6","_callee6","_context6","_x10","_x11","fetchResults","_ref7","_callee7","results","_context7","viewVotes","_x12","ethStrBytesLength","str","hex","Web3","fromUtf8","hexToBytes","length","AnswersList","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","deleteListItem","e","allAnswers","indexOf","currentTarget","innerText","splice","setAnswersHandler","setAnswers","_this2","ListGroup","answer","OverlayTrigger","placement","overlay","Tooltip","id","key","ListGroupItem","onClick","CategoryPanel","categoryHandler","chosenCategory","setCategoryInParent","value","categoryPanel","categoriesList","FormGroup","FormControl","onChange","componentClass","placeholder","validationState","touched","valid","Success","Error","type","Feedback","HelpBlock","newCategoryExists","isVotingEndDateTimeValid","votingEndDateTime","isAfter","add","VoteDates","voteEndDateHandler","inputMoment","newVoteEndDateTime","set","hours","endDateTime","minutes","setEndDateTimeInParent","voteEndTimeHandler","year","month","day","votingExpiryOptionHandler","setVotingExpiryOptionInParent","ControlLabel","DateTime_default","inputProps","closeOnSelect","isValidDate","current","subtract","timeFormat","dateFormat","ToggleButtonGroup","votingExpiryOption","ToggleButton","ThreeDays","Week","Month","PrivilegedAddresses","saveAddresses","addressesArray","split","setState","fileContentMismatch","noAddressesInFile","setPrivilegedAddressesInParent","loadAddressesFromFile","file","files","fileReader","FileReader","onloadend","handleFileRead","readAsText","contentArray","result","toString","c","addresses","isAddress","state","voteType","Warning","Glyphicon","glyph","padding","verticalAlign","fontStyle","accept","label","textAreaValue","resize","VoteTypePanel","changeVoteType","document","getElementById","checked","Public","Private","setVoteTypeInParent","setPrivilegedVoters","voters","setPrivilegedVotersInParent","Radio","inline","PrivilegedAddresses_PrivilegedAddresses","privilegedVoters","reduce","prevVal","currVal","currIdx","privilegedAddressesValid","privilegedAddressesTouched","CreateVoteForm","componentDidMount","fetchCategoriesAndSetState","formData","answersValid","isAnswerListValid","categoryPanelProps","objectSpread","Existing","isCategoryNameValid","arePrivilegedAddressesValid","questionValid","isQuestionValid","voteDatesProps","voteEndDateTime","componentDidUpdate","isCategoriesListFetched","console","log","categories","New","setQuestion","questionTouched","setTypedAnswer","val","typedAnswer","typedAnswerTouched","typedAnswerValid","isTypedAnswerValid","addAnswer","push","answersFromChild","answersTouched","setVoteEnd","dateTimeFromChild","setVotingExpiryOption","votingExpiryOptionFromChild","changeCategoryPanelToExisting","event","changeCategoryPanelToNew","setCategory","categoryFromChild","doesCategoryAlreadyExist","setVoteType","voteTypeFromChild","privilegedVotersFromChild","handleCreateVote","setSubmitData","submitFailed","every","answerList","categorName","i","controlId","InputGroup","onKeyPress","Button","AnswersList_AnswersList","VoteDates_VoteDates","CategoryPanel_CategoryPanel","VoteTypePanel_VoteTypePanel","DisplayResult","ulStyle","liStyle","margin","status","Alert","votingCreatedEventData","txHash","bsSize","hardReset","softReset","LoadingResult","getTransactionResult","className","sm","fontFamily","react_loader_spinner_default","color","height","width","CreateVotePage","txResponse","txReceipt","_txHash","_votingCreatedEventData","createVotingWithNewCategory","opt","createVotingWithExistingCategory","transactionHash","decodeLog","indexed","events","VotingCreated","data","topics","resultStatus","error","Failure","mode","Finalized","finish","formState","Fetching","setModeToForm","Form","resetPage","CreateVoteForm_CreateVoteForm","LoadingResult_LoadingResult","DisplayResult_DisplayResult","NotFoundModal","Modal","show","onHide","handleOnHide","Title","Body","Panel","Heading","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","RADIAN","Math","PI","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","concat","toFixed","COLORS","ResultsPieChart","chartData","singleOption","ResponsiveContainer","PieChart","Pie","isAnimationActive","_","Cell","component_Tooltip","Legend","iconSize","covertTimestampToDate","timestamp","format","VoteModal","handleAnswerClick","chosenAnswer","setChosenAnswerInParent","handleSubmit","isWaitingForTxResponse","requestDataRefresh","_address","paddingLeft","paddingRight","assign","active","Footer","ResultsModal","getSortedAnswersWithResults","sort","reverse","votingInfo","answersAndResults","currentAnswer","currenResult","first","second","sumOfAllVotes","partial","obj","Table","responsive","element","ResultsPieChart_ResultsPieChart","HomePage","searchVoting","fetchedVoting","getValidationState","searchBoxText","searchActionCalled","showNotFoundModal","showResultsModal","showVoteModal","votingResults","answerIndexFromChild","handleSearchBoxChange","setErrorHelper","text","substring","match","isDataRefreshRequested","modal","VoteModal_VoteModal","ResultsModal_ResultsModal","NotFoundModal_NotFoundModal","NoAccessPage","imgSrc","imgChoice","NoMetamaskInstalled","WrongNetwork","NoMetamaskAccess","Route","exact","path","render","title","firstParagraph","secondParagraph","component","Redirect","CategoryDropdown","_categories","setCategoriesInParent","areCategoriesFetched","_categories2","handleOnClick","chosenCategoryName","chosenCategoryIndex","buttonTitle","forEach","setChosenCategoryInParent","DropdownButton","cat","MenuItem","eventKey","onSelect","PrivacyButtons","handleOnChange","chosenPrivacySetting","setchosenPrivacySettingInParent","All","VotingList","params","nrOfVotingsPerPage","publicVotingTooltip","privateVotingTooltip","inaccessibleVotingTooltip","fetchVotingsAndSetState","prevProps","pageInfo","areVotingsFetched","privacySetting","activePageIndex","displayInaccessibleVotings","filterPhase","dataRefreshRequestHandled","focus","handleVotingClick","chosenVotingIndex","setChosenVotingAddressInParent","setVotingsInParent","filteredVotings","includes","paginationFirst","handlePageClick","paginationNext","newIndex","paginationPrev","paginationLast","nrOfPages","ceil","votingsToDisplay","getVotingsForPage","Pagination","First","Prev","Item","autoFocus","Next","Last","dividedVotings","slice","ListVotingsPanel","setCategories","categoriesFromChild","setPrivacySetting","privacySettingFromChild","chosenVotingAddress","setVotings","votingsFromChild","handleCategoryClick","categoryIndexFromChild","votingAddressFromChild","_results","find","dataRefreshed","handleCheck","displayInacessibleVotings","handleFilterChange","CategoryDropdown_CategoryDropdown","PrivacyButtons_PrivacyButtons","react_switch_default","onColor","onHandleColor","uncheckedIcon","checkedIcon","VotingList_VotingList","ListVotingsPage","votingIndexFromChild","ListVotingsPanel_ListVotingsPanel","App","wrongNetwork","networkType","instance","window","noMetamask","enable","net","getNetworkType","AppConfig","ManagerAbi","setProvider","currentProvider","connectedNetworkType","waitingForAccess","lol","forceUpdate","Header_Header","NoAccessPage_NoAccessPage","BrowserRouter","HomePage_HomePage","CreateVotePage_CreateVotePage","ListVotingsPage_ListVotingsPage","ReactDOM","App_App"],"mappings":"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","file":"static/js/main.c6b75d91.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/distributed-voting-platform.8c3a0f52.png\";","module.exports = __webpack_public_path__ + \"static/media/ethereum-logo.6b316d3d.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.79e4e98f.png\";","module.exports = __webpack_public_path__ + \"static/media/no-acceptance.32caef48.png\";","module.exports = __webpack_public_path__ + \"static/media/no-metamask.afcf3094.png\";","module.exports = __webpack_public_path__ + \"static/media/wrong-network.2e278d0d.png\";","export enum CategoryPanelType {\n    Existing = \"existing\",\n    New = \"new\",\n}\n\nexport enum PageMode {\n    Form = \"form\",\n    Fetching = \"fetching\",\n    Finalized = \"finalized\",\n}\n\nexport enum PrivacySetting {\n    All = \"all\",\n    Public = \"public\",\n    Private = \"private\",\n}\n\nexport enum ResultStatus {\n    Success = \"success\",\n    Failure = \"failure\",\n}\n\nexport enum Validation {\n    Success = \"success\",\n    Error = \"error\",\n    Warning = \"warning\",\n}\n\nexport enum VoteType {\n    Public = \"public\",\n    Private = \"private\",\n}\n\nexport enum VotingExpiryOption {\n    ThreeDays = 3 * 24 * 60 * 60,\n    Week = 7 * 24 * 60 * 60,\n    Month = 30 * 24 * 60 * 60,\n}\n\nexport enum VotingState {\n    Active = \"active\",\n    Passive = \"passive\",\n    Disabled = \"disabled\",\n}\n","import React, { Component } from \"react\";\nimport { Col, Grid, Row } from \"react-bootstrap\";\nimport DVPLogo from \"../../images/distributed-voting-platform.png\";\nimport EthereumLogo from \"../../images/ethereum-logo.png\";\nimport MetaMaskLogo from \"../../images/metamask-logo.png\";\nexport default class AboutPage extends Component {\n  public render() {\n    return (\n      <Grid>\n        <Row>\n          <Col md={12}>\n            <h1 style={{ fontWeight: \"bold\", marginTop: \"1.2em\", marginBottom: \"1.2em\", textAlign: \"center\" }}>\n              Distributed Voting Platform\n            </h1>\n            <h2 style={{ fontWeight: \"bold\", marginBottom: \"0.5em\", textAlign: \"center\" }}>is a</h2>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={4}>\n            <h3 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>Distributed</h3>\n            <p style={{ fontSize: \"1.1em\", textAlign: \"justify\" }}>\n              This system is running on thousands of nodes at the same time, thus eliminating a single point of failure.\n            </p>\n            <p style={{ fontSize: \"1.1em\", textAlign: \"justify\" }}>\n              But distribution serves not only as a way of providing high availability. The lack of a central server\n              ensures that the platform has no single authority, which could potentially manage all the operations\n              internally without other participants' consent.\n            </p>\n          </Col>\n          <Col md={4}>\n            <h3 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>Blockchain-based</h3>\n            <p style={{ fontSize: \"1.1em\", textAlign: \"justify\" }}>\n              This platform is created on top of a public blockchain, a distributed ledger technology.\n            </p>\n            <p style={{ fontSize: \"1.1em\", textAlign: \"justify\" }}>\n              This means blockchain is used as a database for logging all the events that occur in the system. It is\n              also used as a network protocol for connecting to and sharing data with other nodes around the world. The\n              cryptography behind blockchain protects the stored records from alteration and makes them persistent. And\n              because there is no registration process, all the transactions made in the network are anonymous.\n            </p>\n          </Col>\n\n          <Col md={4}>\n            <h3 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>Voting platform</h3>\n            <p style={{ fontSize: \"1.1em\", textAlign: \"justify\" }}>\n              Create ballots and polls, and participate in other's people votings.\n            </p>\n            <p style={{ fontSize: \"1.1em\", textAlign: \"justify\" }}>\n              This platform allows you to participate in public votings created by people from all around the world. Do\n              you want to know someone's stance on a particular matter? Simply create your own voting. Or maybe you want\n              to know only <em>some</em> people's opinion? If you do, you can create a private voting by defining a list\n              of privileged voters.\n            </p>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <h2\n              style={{\n                fontWeight: \"bold\",\n                marginBottom: \"2em\",\n                marginTop: \"2em\",\n                textAlign: \"center\",\n              }}\n            >\n              How does it work?\n            </h2>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={4}>\n            {\" \"}\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.ethereum.org/\">\n              <img\n                style={{\n                  display: \"block\",\n                  marginLeft: \"auto\",\n                  marginRight: \"auto\",\n                  maxHeight: \"100%\", // 2nd option: 50%\n                  maxWidth: \"100%\",\n                }}\n                src={EthereumLogo}\n              />{\" \"}\n            </a>\n            <ul style={{ fontSize: \"1.2em\", marginTop: \"2em\" }}>\n              <li>Stores votings as smart contracts</li>\n              <li>Validates user's actions based on their address' permissions</li>\n              <li>Publicly available transaction (voting) history</li>\n            </ul>\n          </Col>\n          <Col md={4}>\n            <img\n              style={{\n                display: \"block\",\n                marginLeft: \"auto\",\n                marginRight: \"auto\",\n                maxHeight: \"100%\", // 2nd option: 50%\n                maxWidth: \"100%\",\n              }}\n              src={DVPLogo}\n            />\n            <ul style={{ fontSize: \"1.2em\", marginTop: \"2em\" }}>\n              <li>Connected to Ethereum blockchain via Metamask</li>\n              <li>Clear and intuitive interface for creating polls, voting and displaying results</li>\n            </ul>\n          </Col>\n          <Col md={4}>\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://metamask.io/\">\n              <img\n                style={{\n                  display: \"block\",\n                  marginLeft: \"auto\",\n                  marginRight: \"auto\",\n                  maxHeight: \"100%\", // 2nd option: 50%\n                  maxWidth: \"100%\",\n                }}\n                src={MetaMaskLogo}\n              />{\" \"}\n            </a>\n            <ul style={{ fontSize: \"1.2em\", marginTop: \"2em\" }}>\n              <li>Web browser plugin storing user's wallet</li>\n              <li>Responsible for communication with blockchain</li>\n            </ul>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <h2\n              style={{\n                fontWeight: \"bold\",\n                marginBottom: \"2em\",\n                marginTop: \"2em\",\n                textAlign: \"center\",\n              }}\n            >\n              Application's genesis\n            </h2>\n          </Col>\n        </Row>\n        <Row style={{ marginBottom: \"4em\" }}>\n          <Col md={8} mdOffset={2}>\n            <p style={{ fontSize: \"1.2em\", textAlign: \"justify\" }}>\n              Distributed Voting Platform was created by Andrzej Wdkiewicz and Gustaw yngiel, final year students\n              pursuing the BSc in Computer Science programme at Warsaw University of Technology, Faculty of Mathematics\n              and Information Science. The application is their thesis project, developed under the guidance of Pawe\n              Kotowski, BEng, PhD, their thesis supervisor.\n            </p>\n          </Col>\n        </Row>\n      </Grid>\n    );\n  }\n}\n","import React, { Component, Fragment } from \"react\";\nimport { Nav, Navbar, NavItem } from \"react-bootstrap\";\nimport { IndexLinkContainer, LinkContainer } from \"react-router-bootstrap\";\n\ninterface IHeaderProps {\n  block: number;\n}\n\nexport default class Header extends Component<IHeaderProps> {\n  public render() {\n    return (\n      <Fragment>\n        <Navbar fluid fixedTop={false} collapseOnSelect={false}>\n          <Nav bsStyle=\"tabs\" justified>\n            <IndexLinkContainer to=\"/\" disabled={this.props.block === 4 ? true : false}>\n              <NavItem>Home</NavItem>\n            </IndexLinkContainer>\n            <LinkContainer to=\"/createvote\" disabled={this.props.block > 0 ? true : false}>\n              <NavItem disabled={true}>Create new voting</NavItem>\n            </LinkContainer>\n            <LinkContainer to=\"/listvotings\" disabled={this.props.block > 0 ? true : false}>\n              <NavItem>List votings</NavItem>\n            </LinkContainer>\n            <LinkContainer to=\"/about\" disabled={this.props.block === 4 ? true : false}>\n              <NavItem>About</NavItem>\n            </LinkContainer>\n          </Nav>\n        </Navbar>\n      </Fragment>\n    );\n  }\n}\n","import moment from \"moment\";\nimport Web3 from \"web3\";\nimport CategoryAbi from \"../contracts/CategoryContract.json\";\nimport VotingAbi from \"../contracts/VotingContract.json\";\nimport { CategoryContract } from \"../typed-contracts/CategoryContract\";\nimport { ManagerContract } from \"../typed-contracts/ManagerContract\";\nimport { VotingContract } from \"../typed-contracts/VotingContract\";\nimport { VotingState } from \"./enums\";\nimport { BlockchainData, Category, Voting, VotingInfo } from \"./types\";\n\nexport const fetchCategories = async (blockchainData: BlockchainData) => {\n    const web3 = blockchainData.web3;\n    const managerInstance = blockchainData.manager as ManagerContract;\n    const numberOfCategories = parseInt(await managerInstance.methods.numberOfCategories().call(), 10);\n\n    const categoryPromises = [...Array(numberOfCategories).keys()].map(\n        async (index): Promise<Category> => {\n            const categoryAddress = await managerInstance.methods.categoryContractsList(index).call();\n            const categoryContract = new web3.eth.Contract(CategoryAbi.abi, categoryAddress) as CategoryContract;\n            const categoryName = web3.utils.toUtf8(await categoryContract.methods.categoryName().call());\n            return { name: categoryName, address: categoryAddress };\n        }\n    );\n\n    return Promise.all(categoryPromises);\n};\n\n// tslint:disable:object-literal-sort-keys\nexport const fetchVotings = async (blockchainData: BlockchainData, category: Category, votingState: VotingState) => {\n    const web3 = blockchainData.web3;\n    const categoryInstance = new web3.eth.Contract(CategoryAbi.abi, category.address) as CategoryContract;\n    const now = moment().utc().unix(); // prettier-ignore\n    const numberOfVotings = parseInt(await categoryInstance.methods.numberOfContracts().call(), 10);\n\n    const votingPromises = [...Array(numberOfVotings).keys()].map(\n        async (index): Promise<Voting> => {\n            const votingAddress = await categoryInstance.methods.votingContracts(index).call();\n            const votingInstance = new web3.eth.Contract(VotingAbi.abi, votingAddress) as VotingContract;\n            const resp = await votingInstance.methods.viewContractInfo().call();\n            const info: VotingInfo = {\n                question: resp[0],\n                categoryAddress: resp[1],\n                answers: resp[2].map((raw) => web3.utils.hexToUtf8(raw)),\n                votingEndTime: parseInt(resp[3], 10),\n                resultsEndTime: parseInt(resp[4], 10),\n                isPrivate: null,\n                isPrivileged: null,\n                hasUserVoted: null,\n            };\n\n            let testPassed: boolean;\n            switch (votingState) {\n                case VotingState.Active:\n                    testPassed = now <= info.votingEndTime;\n                    break;\n                case VotingState.Passive:\n                    testPassed = info.votingEndTime < now && now <= info.resultsEndTime;\n                    break;\n                case VotingState.Disabled:\n                    testPassed = info.resultsEndTime < now;\n                    break;\n                default:\n                    testPassed = false;\n            }\n            if (!testPassed) {\n                return null;\n            }\n\n            info.isPrivate = await votingInstance.methods.isPrivate().call();\n            if (info.isPrivate) {\n                info.isPrivileged = await votingInstance.methods.isPrivileged(blockchainData.accounts[0]).call();\n            }\n            info.hasUserVoted = await votingInstance.methods.hasVoted(blockchainData.accounts[0]).call();\n            return {\n                contract: votingInstance,\n                info,\n            };\n        }\n    );\n\n    return Promise.all(votingPromises).then((votings) => votings.filter((v) => v !== null));\n};\n\nexport const submitVote = async (blockchainData: BlockchainData, voting: Voting, answerIndex: number) => {\n    const votingInstance = voting.contract;\n    votingInstance.options.from = blockchainData.accounts[0];\n    await votingInstance.methods.vote(answerIndex).send();\n};\n\nexport const fetchVoting = async (blockchainData: BlockchainData, address: string) => {\n    const web3 = blockchainData.web3;\n    try {\n        const votingInstance = new web3.eth.Contract(VotingAbi.abi, address) as VotingContract;\n        const resp = await votingInstance.methods.viewContractInfo().call();\n        const info: VotingInfo = {\n            question: resp[0],\n            categoryAddress: resp[1],\n            answers: resp[2].map((raw) => web3.utils.hexToUtf8(raw)),\n            votingEndTime: parseInt(resp[3], 10),\n            resultsEndTime: parseInt(resp[4], 10),\n            isPrivate: null,\n            isPrivileged: null,\n            hasUserVoted: null,\n        };\n        info.isPrivate = await votingInstance.methods.isPrivate().call();\n        if (info.isPrivate) {\n            info.isPrivileged = await votingInstance.methods.isPrivileged(blockchainData.accounts[0]).call();\n        }\n        info.hasUserVoted = await votingInstance.methods.hasVoted(blockchainData.accounts[0]).call();\n        const voting: Voting = {\n            contract: votingInstance,\n            info,\n        };\n        return voting;\n    } catch {\n        return null;\n    }\n};\n\nexport const fetchResults = async (voting: Voting) => {\n    const votingInstance = voting.contract;\n    const results = await votingInstance.methods.viewVotes().call();\n    return results;\n};\n\nexport function ethStrBytesLength(str: string) {\n    const hex = Web3.utils.fromUtf8(str);\n    const bytes = Web3.utils.hexToBytes(hex);\n    return bytes.length;\n}\n","import React, { Component } from \"react\";\nimport { ListGroup, ListGroupItem, OverlayTrigger, Tooltip } from \"react-bootstrap\";\n\ninterface IAnswersListProps {\n  answers: string[];\n  setAnswers: (arg: string[]) => void;\n}\n\nexport default class AnswersList extends Component<IAnswersListProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  public deleteListItem = (e: React.MouseEvent<ListGroupItem & HTMLInputElement>) => {\n    const allAnswers = this.props.answers;\n    const index = allAnswers.indexOf(e.currentTarget.innerText);\n    if (index > -1) {\n      allAnswers.splice(index, 1);\n    }\n    this.setAnswersHandler(allAnswers);\n  };\n\n  public setAnswersHandler = (answers) => {\n    this.props.setAnswers(answers);\n  };\n\n  public render() {\n    return (\n      <ListGroup>\n        {this.props.answers.map((answer) => (\n          <OverlayTrigger\n            placement=\"right\"\n            overlay={\n              <Tooltip id=\"answer-tooltip\">\n                <strong>Click</strong> to remove the answer\n              </Tooltip>\n            }\n            key={answer}\n          >\n            <ListGroupItem onClick={this.deleteListItem}>{answer}</ListGroupItem>\n          </OverlayTrigger>\n        ))}\n      </ListGroup>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { FormControl, FormGroup, HelpBlock } from \"react-bootstrap\";\nimport { CategoryPanelType, Validation } from \"../../utils/enums\";\nimport { Category, ContractAddress } from \"../../utils/types\";\n\nexport interface ICategoryPanelProps {\n  categoriesList: Category[];\n  categoryPanel: CategoryPanelType;\n  chosenCategory: string | ContractAddress;\n  newCategoryExists: boolean;\n  setCategoryInParent: (arg: string) => void;\n  touched: boolean;\n  valid: boolean;\n}\n\nexport default class CategoryPanel extends Component<ICategoryPanelProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  public render() {\n    const categoryPanel = this.props.categoryPanel;\n    if (categoryPanel === \"existing\") {\n      if (this.props.categoriesList) {\n        return (\n          <FormGroup>\n            <FormControl\n              onChange={this.categoryHandler}\n              componentClass=\"select\"\n              placeholder=\"select\"\n              value={this.props.chosenCategory ? this.props.chosenCategory : \"\"}\n            >\n              {this.props.categoriesList.map((category) => {\n                return (\n                  <option value={category.address} key={category.address}>\n                    {category.name}\n                  </option>\n                );\n              })}\n            </FormControl>\n          </FormGroup>\n        );\n      } else {\n        return <h2>Loading categories from blockchain...</h2>;\n      }\n    } else {\n      return (\n        <FormGroup\n          validationState={this.props.touched ? (this.props.valid ? Validation.Success : Validation.Error) : null}\n        >\n          <FormControl\n            onChange={this.categoryHandler}\n            id=\"answer\"\n            type=\"text\"\n            placeholder=\"Category name here\"\n            value={this.props.chosenCategory ? this.props.chosenCategory : \"\"}\n          />\n          <FormControl.Feedback />\n          {this.props.touched && !this.props.valid ? (\n            this.props.chosenCategory.length === 0 ? (\n              <HelpBlock>Category name cannot be empty</HelpBlock>\n            ) : this.props.newCategoryExists ? (\n              <HelpBlock>Category with this name already exists</HelpBlock>\n            ) : (\n              <HelpBlock>Category name cannot be larger than 32 bytes</HelpBlock>\n            )\n          ) : null}\n        </FormGroup>\n      );\n    }\n  }\n\n  private categoryHandler = (chosenCategory) => {\n    this.props.setCategoryInParent(chosenCategory.target.value);\n  };\n}\n","import moment, { Moment } from \"moment\";\nimport React, { Component } from \"react\";\nimport { Col, ControlLabel, FormGroup, HelpBlock, Row, ToggleButton, ToggleButtonGroup } from \"react-bootstrap\";\nimport Datetime from \"react-datetime\";\nimport { Validation, VotingExpiryOption } from \"../../utils/enums\";\n\nexport function isVotingEndDateTimeValid(votingEndDateTime: Moment) {\n  return votingEndDateTime.isAfter(moment().add(20, \"seconds\"));\n}\n\nexport interface IVoteDatesProps {\n  endDateTime: moment.Moment;\n  votingExpiryOption: VotingExpiryOption;\n  valid: boolean;\n  setEndDateTimeInParent: (arg: moment.Moment) => void;\n  setVotingExpiryOptionInParent: (arg: VotingExpiryOption) => void;\n}\n\n// tslint:disable:object-literal-sort-keys\nexport default class VoteDates extends Component<IVoteDatesProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  public render() {\n    return (\n      <Row>\n        <Col md={6}>\n          <Row>\n            <Col md={12}>\n              <ControlLabel>Deadline</ControlLabel>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={6}>\n              <FormGroup>\n                <HelpBlock>Date</HelpBlock>\n                <Datetime\n                  inputProps={{ id: \"voteDateEnd\" }}\n                  closeOnSelect={true}\n                  isValidDate={(current) => {\n                    return current.isAfter(moment().subtract(1, \"day\"), \"minute\");\n                  }}\n                  timeFormat={false}\n                  onChange={this.voteEndDateHandler}\n                  value={this.props.endDateTime}\n                />\n              </FormGroup>\n            </Col>\n            <Col md={6}>\n              <FormGroup validationState={this.props.valid ? null : Validation.Error}>\n                <HelpBlock>Time</HelpBlock>\n                <Datetime\n                  inputProps={{ id: \"voteTimeEnd\" }}\n                  dateFormat={false}\n                  closeOnSelect={true}\n                  onChange={this.voteEndTimeHandler}\n                  value={this.props.endDateTime}\n                />\n                {this.props.valid ? null : <HelpBlock>Voting has to be active for at least 20s</HelpBlock>}\n              </FormGroup>\n            </Col>\n          </Row>\n        </Col>\n\n        <Col md={6}>\n          <Row>\n            <Col md={12}>\n              <ControlLabel>Results expiry date</ControlLabel>\n            </Col>\n          </Row>\n          <Row>\n            <Col md={12}>\n              <FormGroup>\n                <HelpBlock>How long will the results be available?</HelpBlock>\n                <ToggleButtonGroup\n                  type=\"radio\"\n                  name=\"votingExpiryOption\"\n                  value={this.props.votingExpiryOption}\n                  onChange={this.votingExpiryOptionHandler}\n                  justified\n                >\n                  <ToggleButton value={VotingExpiryOption.ThreeDays}>3 Days</ToggleButton>\n                  <ToggleButton value={VotingExpiryOption.Week}>1 Week</ToggleButton>\n                  <ToggleButton value={VotingExpiryOption.Month}>1 Month</ToggleButton>\n                </ToggleButtonGroup>\n              </FormGroup>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    );\n  }\n\n  private voteEndDateHandler = (inputMoment) => {\n    const newVoteEndDateTime = moment(inputMoment).set({\n      hours: this.props.endDateTime.hours(),\n      minutes: this.props.endDateTime.minutes(),\n    });\n\n    this.props.setEndDateTimeInParent(newVoteEndDateTime);\n  };\n  private voteEndTimeHandler = (inputMoment) => {\n    const newVoteEndDateTime = moment(inputMoment).set({\n      year: this.props.endDateTime.year(),\n      month: this.props.endDateTime.month(),\n      day: this.props.endDateTime.day(),\n    });\n\n    this.props.setEndDateTimeInParent(newVoteEndDateTime);\n  };\n\n  private votingExpiryOptionHandler = (value: VotingExpiryOption) => {\n    this.props.setVotingExpiryOptionInParent(value);\n  };\n}\n","import React, { Component, FormEvent } from \"react\";\nimport { ControlLabel, FormControl, FormGroup, Glyphicon, HelpBlock, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport Web3 from \"web3\";\nimport { Validation, VoteType } from \"../../utils/enums\";\n\ninterface IPrivilegedAddressesProps {\n  voteType: VoteType;\n  touched: boolean;\n  valid: boolean;\n  textAreaValue: string;\n  setPrivilegedAddressesInParent: (arg: string[]) => void;\n}\n\ninterface IPrivilegedAddressesState {\n  fileContentMismatch: boolean;\n  noAddressesInFile: boolean;\n}\n\nexport default class PrivilegedAddresses extends Component<IPrivilegedAddressesProps, IPrivilegedAddressesState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileContentMismatch: false,\n      noAddressesInFile: false,\n    };\n  }\n\n  public render() {\n    if (this.props.voteType === \"private\") {\n      return (\n        <FormGroup\n          validationState={\n            this.props.touched && !this.props.valid\n              ? Validation.Error\n              : this.state.fileContentMismatch || this.state.noAddressesInFile\n              ? Validation.Warning\n              : null\n          }\n        >\n          <ControlLabel>\n            Privileged addresses\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip id=\"tooltip\">\n                  <p>Every address should be in a separate line</p>\n                </Tooltip>\n              }\n            >\n              <Glyphicon glyph=\"info-sign\" style={{ padding: \"0 0 3px 5px\", verticalAlign: \"middle\" }} />\n            </OverlayTrigger>\n          </ControlLabel>\n          <HelpBlock>\n            Manually enter addresses below or load them from the <span style={{ fontStyle: \"italic\" }}>.txt</span> file.\n          </HelpBlock>\n          <FormControl\n            type=\"file\"\n            accept=\".txt\"\n            onChange={this.loadAddressesFromFile}\n            label=\"File\"\n            style={{ marginBottom: \"1em\" }}\n          />\n          <FormControl\n            onChange={this.saveAddresses}\n            componentClass=\"textarea\"\n            placeholder=\"Don't forget to paste your own address here (if you want to vote)!\"\n            value={this.props.textAreaValue}\n            id=\"privilegedAddressesTextArea\"\n            style={{ resize: \"vertical\" }}\n          />\n\n          {this.state.noAddressesInFile ? (\n            <HelpBlock>Uploaded file does not contain any valid keccak256 Ethereum addresses</HelpBlock>\n          ) : null}\n\n          {this.state.fileContentMismatch ? (\n            <HelpBlock>Uploaded file contained some lines without valid addresses. Verify imported data.</HelpBlock>\n          ) : null}\n\n          {this.props.touched && !this.props.valid ? (\n            this.props.textAreaValue === \"\" ? (\n              <HelpBlock>You have to provide at least one address</HelpBlock>\n            ) : (\n              <HelpBlock>Addresses have to be valid keccak256 Ethereum addresses</HelpBlock>\n            )\n          ) : null}\n        </FormGroup>\n      );\n    } else return null;\n  }\n\n  private saveAddresses = (e: FormEvent<FormControl & HTMLInputElement>) => {\n    const addressesArray = (e.currentTarget.value as string).split(\"\\n\");\n    this.setState({\n      fileContentMismatch: false,\n      noAddressesInFile: false,\n    });\n    this.props.setPrivilegedAddressesInParent(addressesArray);\n  };\n\n  private loadAddressesFromFile = (e: any) => {\n    const file = e.target.files[0];\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.onloadend = () => {\n        this.handleFileRead(fileReader);\n      };\n      fileReader.readAsText(file);\n    }\n  };\n\n  private handleFileRead = (fileReader: FileReader) => {\n    const content = fileReader.result;\n    const contentArray = content\n      .toString()\n      .split(\"\\n\")\n      .filter((c) => c !== \"\");\n\n    const addresses = contentArray.filter((c) => Web3.utils.isAddress(c));\n    if (addresses.length === 0) {\n      this.setState({\n        fileContentMismatch: false,\n        noAddressesInFile: true,\n      });\n      return; // Do not touch form and do not overwrite existing data\n    }\n    if (addresses.length !== contentArray.length) {\n      this.setState({\n        fileContentMismatch: true,\n        noAddressesInFile: false,\n      });\n    } else {\n      this.setState({\n        fileContentMismatch: false,\n        noAddressesInFile: false,\n      });\n    }\n    this.props.setPrivilegedAddressesInParent(addresses);\n  };\n}\n","import React, { Component, Fragment } from \"react\";\nimport { ControlLabel, FormGroup, Glyphicon, OverlayTrigger, Radio, Tooltip } from \"react-bootstrap\";\nimport { VoteType } from \"../../utils/enums\";\nimport { Voter } from \"../../utils/types\";\nimport PrivilegedAddresses from \"./PrivilegedAddresses\";\n\ninterface IVoteTypeProps {\n  voteType: VoteType;\n  privilegedVoters: Voter[];\n  privilegedAddressesTouched: boolean;\n  privilegedAddressesValid: boolean;\n  setVoteTypeInParent: (arg: VoteType) => void;\n  setPrivilegedVotersInParent: (arg: Voter[]) => void;\n}\n\nexport default class VoteTypePanel extends Component<IVoteTypeProps> {\n  constructor(props: Readonly<IVoteTypeProps>) {\n    super(props);\n  }\n\n  public changeVoteType = () => {\n    const publicVote = document.getElementById(\"votePublic\") as HTMLInputElement;\n    const voteType = publicVote.checked ? VoteType.Public : VoteType.Private;\n    this.props.setVoteTypeInParent(voteType);\n  };\n\n  public setPrivilegedVoters = (voters: Voter[]) => {\n    this.props.setPrivilegedVotersInParent(voters);\n  };\n\n  public render() {\n    return (\n      <Fragment>\n        <FormGroup>\n          <ControlLabel style={{ display: \"block\" }}>\n            Vote type\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip id=\"tooltip\">\n                  <strong>Public voting</strong>\n                  <p>Everyone can take active participation in this voting!</p>\n                  <strong>Private voting</strong>\n                  <p>Only privileged addresses are permitted to vote.</p>\n                </Tooltip>\n              }\n            >\n              <Glyphicon glyph=\"info-sign\" style={{ padding: \"0 0 3px 5px\", verticalAlign: \"middle\" }} />\n            </OverlayTrigger>\n          </ControlLabel>\n\n          <Radio\n            id=\"votePublic\"\n            name=\"radioGroup\"\n            checked={this.props.voteType === VoteType.Public ? true : false}\n            onChange={this.changeVoteType}\n            inline\n          >\n            Public\n          </Radio>\n          <Radio\n            id=\"votePrivate\"\n            name=\"radioGroup\"\n            checked={this.props.voteType === VoteType.Private ? true : false}\n            onChange={this.changeVoteType}\n            inline\n          >\n            Private\n          </Radio>\n        </FormGroup>\n\n        <PrivilegedAddresses\n          setPrivilegedAddressesInParent={this.setPrivilegedVoters}\n          voteType={this.props.voteType}\n          textAreaValue={this.props.privilegedVoters.reduce((prevVal, currVal, currIdx) => {\n            return currIdx === 0 ? currVal : prevVal + \"\\n\" + currVal;\n          }, \"\")}\n          valid={this.props.privilegedAddressesValid}\n          touched={this.props.privilegedAddressesTouched}\n        />\n      </Fragment>\n    );\n  }\n}\n","import moment from \"moment\";\nimport React, { Component } from \"react\";\nimport { Button, Col, ControlLabel, FormControl, FormGroup, HelpBlock, InputGroup, Radio, Row } from \"react-bootstrap\";\nimport \"react-datetime/css/react-datetime.css\"; //tslint:disable-line\nimport { CategoryPanelType, Validation, VoteType, VotingExpiryOption } from \"../../utils/enums\";\nimport { ethStrBytesLength, fetchCategories } from \"../../utils/eth\";\nimport { BlockchainData, VoteFormData, Voter } from \"../../utils/types\";\nimport AnswersList from \"./AnswersList\";\nimport CategoryPanel, { ICategoryPanelProps } from \"./CategoryPanel\";\nimport VoteDates, { isVotingEndDateTimeValid, IVoteDatesProps } from \"./VoteDates\";\nimport VoteTypePanel from \"./VoteTypePanel\";\n\ninterface ICreateVoteFormProps {\n  formData: VoteFormData;\n  blockchainData: BlockchainData;\n  setSubmitData: (arg: ICreateVoteFormState) => void;\n}\n\nexport interface ICreateVoteFormState {\n  answers: string[];\n  answersTouched: boolean;\n  answersValid: boolean;\n  isCategoriesListFetched: boolean;\n  privilegedVoters: Voter[];\n  privilegedAddressesValid: boolean;\n  privilegedAddressesTouched: boolean;\n  question: string;\n  questionTouched: boolean;\n  questionValid: boolean;\n  typedAnswer: string;\n  typedAnswerValid: boolean;\n  typedAnswerTouched: boolean;\n  voteDatesProps: IVoteDatesProps;\n  voteType: VoteType;\n  categoryPanelProps: ICategoryPanelProps;\n  submitFailed: boolean;\n}\n\nexport default class CreateVoteForm extends Component<ICreateVoteFormProps, ICreateVoteFormState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      answers: [],\n      answersTouched: false,\n      answersValid: true,\n      categoryPanelProps: {\n        categoriesList: [],\n        categoryPanel: CategoryPanelType.New,\n        chosenCategory: \"\",\n        newCategoryExists: false,\n        setCategoryInParent: this.setCategory,\n        touched: false,\n        valid: false,\n      },\n      isCategoriesListFetched: false,\n      privilegedAddressesTouched: false,\n      privilegedAddressesValid: false,\n      privilegedVoters: [],\n      question: \"\",\n      questionTouched: false,\n      questionValid: false,\n      submitFailed: false,\n      typedAnswer: \"\",\n      typedAnswerTouched: false,\n      typedAnswerValid: false,\n      voteDatesProps: {\n        endDateTime: moment().add(1, \"h\"), // prettier-ignore\n        setEndDateTimeInParent: this.setVoteEnd,\n        setVotingExpiryOptionInParent: this.setVotingExpiryOption,\n        valid: true,\n        votingExpiryOption: VotingExpiryOption.ThreeDays,\n      },\n      voteType: VoteType.Public,\n    };\n  }\n\n  public componentDidMount = async () => {\n    if (this.props.blockchainData) {\n      await this.fetchCategoriesAndSetState();\n    }\n    if (this.props.formData) {\n      this.setState((state, props) => {\n        return {\n          answers: props.formData.answers,\n          answersValid: this.isAnswerListValid(props.formData.answers),\n          categoryPanelProps: {\n            ...state.categoryPanelProps,\n            categoryPanel: props.formData.categoryPanel,\n            chosenCategory: props.formData.chosenCategory,\n            valid:\n              state.categoryPanelProps.categoryPanel === CategoryPanelType.Existing ||\n              this.isCategoryNameValid(props.formData.chosenCategory),\n          },\n          privilegedAddressesValid: this.arePrivilegedAddressesValid(props.formData.privilegedVoters),\n          privilegedVoters: props.formData.privilegedVoters,\n          question: props.formData.question,\n          questionValid: this.isQuestionValid(props.formData.question),\n          voteDatesProps: {\n            ...state.voteDatesProps,\n            endDateTime: props.formData.voteEndDateTime,\n            votingExpiryOption: props.formData.votingExpiryOption,\n          },\n          voteType: props.formData.voteType,\n        };\n      });\n    }\n  };\n\n  public componentDidUpdate = async () => {\n    // If blockchainData was initialized after this component had mounted\n    if (!this.state.isCategoriesListFetched && this.props.blockchainData) {\n      console.log(\"refresh\");\n      await this.fetchCategoriesAndSetState();\n\n      // Restore previously set data\n      if (this.props.formData) {\n        this.setState((state, props) => {\n          return {\n            categoryPanelProps: {\n              ...state.categoryPanelProps,\n              categoryPanel: props.formData.categoryPanel,\n              chosenCategory: props.formData.chosenCategory,\n              valid:\n                state.categoryPanelProps.categoryPanel === CategoryPanelType.Existing ||\n                this.isCategoryNameValid(props.formData.chosenCategory),\n            },\n          };\n        });\n      }\n    }\n  };\n\n  public render() {\n    return (\n      <form>\n        <Row>\n          <Col md={12}>\n            <FormGroup\n              controlId=\"question\"\n              validationState={\n                this.state.questionTouched ? (this.state.questionValid ? Validation.Success : Validation.Error) : null\n              }\n            >\n              <ControlLabel>Question</ControlLabel>\n              <FormControl\n                type=\"text\"\n                placeholder=\"E.g. 'Do you believe in life after love?'\"\n                onChange={this.setQuestion}\n                value={this.state.question}\n              />\n              <FormControl.Feedback />\n              {this.state.questionTouched && !this.state.questionValid ? (\n                <HelpBlock>Question cannot be empty</HelpBlock>\n              ) : null}\n            </FormGroup>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col md={12}>\n            <FormGroup\n              controlId=\"answer\"\n              validationState={\n                this.state.answersTouched && !this.state.answersValid\n                  ? Validation.Error\n                  : this.state.typedAnswerTouched && !this.state.typedAnswerValid\n                  ? Validation.Warning\n                  : null\n              }\n            >\n              <ControlLabel>Answers</ControlLabel>\n              <InputGroup>\n                <FormControl\n                  type=\"text\"\n                  placeholder=\"Your answer here\"\n                  onChange={this.setTypedAnswer}\n                  onKeyPress={(event) => {\n                    if (event.key === \"Enter\") {\n                      this.setState({ typedAnswerTouched: true });\n                      if (this.state.typedAnswerValid) {\n                        this.addAnswer();\n                      }\n                    }\n                  }}\n                  value={this.state.typedAnswer}\n                />{\" \"}\n                <InputGroup.Button>\n                  <Button onClick={this.addAnswer} disabled={this.state.typedAnswerValid ? null : true}>\n                    Add answer\n                  </Button>\n                </InputGroup.Button>\n              </InputGroup>\n              {this.state.typedAnswerTouched &&\n              !this.state.typedAnswerValid &&\n              ethStrBytesLength(this.state.typedAnswer) > 32 ? (\n                <HelpBlock>Answer cannot be larger than 32 bytes</HelpBlock>\n              ) : null}\n\n              {this.state.typedAnswerTouched && !this.state.typedAnswerValid && this.state.typedAnswer.length === 0 ? (\n                <HelpBlock>Answer cannot be empty</HelpBlock>\n              ) : null}\n\n              {this.state.typedAnswerTouched &&\n              !this.state.typedAnswerValid &&\n              this.state.answers.indexOf(this.state.typedAnswer) !== -1 ? (\n                <HelpBlock>Answers have to be unique</HelpBlock>\n              ) : null}\n\n              {this.state.answersTouched && !this.state.answersValid && this.state.answers.length < 2 ? (\n                <HelpBlock>There must be at least 2 answers</HelpBlock>\n              ) : null}\n            </FormGroup>\n          </Col>\n        </Row>\n\n        {this.state.answers.length !== 0 ? (\n          <Row>\n            <Col md={12}>\n              <AnswersList setAnswers={this.setAnswers} answers={this.state.answers} />\n            </Col>\n          </Row>\n        ) : null}\n\n        <VoteDates\n          endDateTime={this.state.voteDatesProps.endDateTime}\n          votingExpiryOption={this.state.voteDatesProps.votingExpiryOption}\n          valid={this.state.voteDatesProps.valid}\n          setVotingExpiryOptionInParent={this.state.voteDatesProps.setVotingExpiryOptionInParent}\n          setEndDateTimeInParent={this.state.voteDatesProps.setEndDateTimeInParent}\n        />\n\n        <Row>\n          <Col md={12}>\n            <FormGroup>\n              <ControlLabel>Category</ControlLabel>\n              <HelpBlock>Select an existing category from the list or create a new one.</HelpBlock>\n              <Radio\n                name=\"categoryGroup\"\n                id=\"category-from-list\"\n                disabled={\n                  this.state.isCategoriesListFetched && this.state.categoryPanelProps.categoriesList.length === 0\n                }\n                checked={this.state.categoryPanelProps.categoryPanel === \"existing\"}\n                onChange={this.changeCategoryPanelToExisting}\n                inline\n              >\n                Select existing category\n              </Radio>\n              <Radio\n                name=\"categoryGroup\"\n                id=\"category-new\"\n                checked={this.state.categoryPanelProps.categoryPanel === \"new\"}\n                onChange={this.changeCategoryPanelToNew}\n                inline\n              >\n                Create new category\n              </Radio>\n            </FormGroup>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col md={12}>\n            <CategoryPanel\n              categoryPanel={this.state.categoryPanelProps.categoryPanel}\n              categoriesList={this.state.categoryPanelProps.categoriesList}\n              chosenCategory={this.state.categoryPanelProps.chosenCategory}\n              newCategoryExists={this.doesCategoryAlreadyExist(this.state.categoryPanelProps.chosenCategory)}\n              valid={this.state.categoryPanelProps.valid}\n              touched={this.state.categoryPanelProps.touched}\n              setCategoryInParent={this.state.categoryPanelProps.setCategoryInParent}\n            />\n          </Col>\n        </Row>\n\n        <Row>\n          <Col md={12}>\n            <VoteTypePanel\n              setVoteTypeInParent={this.setVoteType}\n              setPrivilegedVotersInParent={this.setPrivilegedVoters}\n              voteType={this.state.voteType}\n              privilegedVoters={this.state.privilegedVoters}\n              privilegedAddressesValid={this.state.privilegedAddressesValid}\n              privilegedAddressesTouched={this.state.privilegedAddressesTouched}\n            />\n          </Col>\n        </Row>\n\n        <Row style={{ marginBottom: \"10px\" }}>\n          <Col md={12}>\n            <FormGroup validationState={this.state.submitFailed ? Validation.Error : null}>\n              <Button onClick={this.handleCreateVote}>Submit</Button>\n              {this.state.submitFailed ? <HelpBlock>You need to fill the form correctly</HelpBlock> : null}\n            </FormGroup>\n          </Col>\n        </Row>\n      </form>\n    );\n  }\n\n  private fetchCategoriesAndSetState = async () => {\n    const categories = await fetchCategories(this.props.blockchainData);\n    this.setState((state) => {\n      return {\n        categoryPanelProps: {\n          ...state.categoryPanelProps,\n          categoriesList: categories,\n          categoryPanel: categories.length > 0 ? CategoryPanelType.Existing : CategoryPanelType.New,\n          chosenCategory: categories.length > 0 ? categories[0].address : \"\",\n          valid: categories.length > 0,\n        },\n        isCategoriesListFetched: true,\n      };\n    });\n  };\n\n  private setQuestion = (e) => {\n    const question = e.currentTarget.value;\n    this.setState(() => ({\n      question,\n      questionTouched: true,\n      questionValid: this.isQuestionValid(question),\n    }));\n  };\n\n  private setTypedAnswer = (e: React.FormEvent<FormControl & HTMLInputElement>) => {\n    // Do not simplify this code!\n    // Setting state using e.currentTarget.value directly generates \"released/nullified synthetic event\" warning\n    // It's probably because setState does not execute synchronously\n    const val = e.currentTarget.value;\n    this.setState(() => ({\n      typedAnswer: val,\n      typedAnswerTouched: true,\n      typedAnswerValid: this.isTypedAnswerValid(val),\n    }));\n  };\n\n  private addAnswer = () => {\n    // Adding answers doesn't \"touch\" them\n    const answer = this.state.typedAnswer;\n    const allAnswers = this.state.answers;\n    if (!this.isTypedAnswerValid(answer)) {\n      return;\n    }\n    allAnswers.push(answer);\n\n    this.setState(() => ({\n      answers: allAnswers,\n      answersValid: allAnswers.length >= 2,\n      typedAnswer: \"\",\n      typedAnswerTouched: false,\n      typedAnswerValid: false,\n    }));\n  };\n\n  private setAnswers = (answersFromChild) => {\n    // Setting answers from child means erasing an answer -> \"touch\"\n    this.setState(() => ({\n      answers: answersFromChild,\n      answersTouched: true,\n      answersValid: answersFromChild.length >= 2,\n    }));\n  };\n\n  private setVoteEnd = (dateTimeFromChild: moment.Moment) => {\n    this.setState((state) => {\n      return {\n        voteDatesProps: {\n          ...state.voteDatesProps,\n          endDateTime: dateTimeFromChild,\n          valid: isVotingEndDateTimeValid(dateTimeFromChild),\n        },\n      };\n    });\n  };\n\n  private setVotingExpiryOption = (votingExpiryOptionFromChild: VotingExpiryOption) => {\n    this.setState((state) => {\n      return { voteDatesProps: { ...state.voteDatesProps, votingExpiryOption: votingExpiryOptionFromChild } };\n    });\n  };\n\n  private changeCategoryPanelToExisting = (event: React.FormEvent<Radio & HTMLInputElement>) => {\n    if (!event.currentTarget.value) {\n      return;\n    }\n    const chosenCategory =\n      this.state.categoryPanelProps.categoriesList.length > 0\n        ? this.state.categoryPanelProps.categoriesList[0].address\n        : \"\";\n\n    this.setState((state) => {\n      return {\n        categoryPanelProps: {\n          ...state.categoryPanelProps,\n          categoryPanel: CategoryPanelType.Existing,\n          chosenCategory,\n          valid: true,\n        },\n      };\n    });\n  };\n\n  private changeCategoryPanelToNew = (event: React.FormEvent<Radio & HTMLInputElement>) => {\n    if (!event.currentTarget.value) {\n      return;\n    }\n\n    this.setState((state) => {\n      return {\n        categoryPanelProps: {\n          ...state.categoryPanelProps,\n          categoryPanel: CategoryPanelType.New,\n          chosenCategory: \"\",\n          valid: false,\n        },\n      };\n    });\n  };\n\n  private setCategory = (categoryFromChild: string) => {\n    this.setState((state) => {\n      return {\n        categoryPanelProps: {\n          ...state.categoryPanelProps,\n          chosenCategory: categoryFromChild,\n          touched: true,\n          valid:\n            state.categoryPanelProps.categoryPanel === CategoryPanelType.Existing ||\n            (this.isCategoryNameValid(categoryFromChild) && !this.doesCategoryAlreadyExist(categoryFromChild)),\n        },\n      };\n    });\n  };\n\n  private setVoteType = (voteTypeFromChild) => {\n    this.setState(() => ({\n      privilegedAddressesTouched: false,\n      privilegedVoters: [],\n      voteType: voteTypeFromChild,\n    }));\n  };\n\n  private setPrivilegedVoters = (privilegedVotersFromChild: Voter[]) => {\n    this.setState(() => ({\n      privilegedAddressesTouched: true,\n      privilegedAddressesValid: this.arePrivilegedAddressesValid(privilegedVotersFromChild),\n      privilegedVoters: privilegedVotersFromChild,\n    }));\n  };\n\n  private handleCreateVote = () => {\n    // Touch all touchable inputs\n    this.setState((state) => {\n      return {\n        answersTouched: true,\n        categoryPanelProps: { ...state.categoryPanelProps, touched: true },\n        privilegedAddressesTouched: true,\n        questionTouched: true,\n      };\n    });\n\n    // Validate answer list on submit\n    if (!this.isAnswerListValid(this.state.answers)) {\n      this.setState({\n        answersValid: false,\n      });\n    }\n\n    if (!isVotingEndDateTimeValid(this.state.voteDatesProps.endDateTime)) {\n      this.setState((state) => {\n        return {\n          submitFailed: true,\n          voteDatesProps: {\n            ...state.voteDatesProps,\n            valid: false,\n          },\n        };\n      });\n      return; // setState not updating state fast enough and control flow goes straight to setSubmitData call\n    }\n\n    if (\n      !this.state.questionValid ||\n      !this.state.answersValid ||\n      !this.state.voteDatesProps.valid ||\n      !this.state.categoryPanelProps.valid ||\n      (this.state.voteType === VoteType.Private && !this.state.privilegedAddressesValid)\n    ) {\n      this.setState({\n        submitFailed: true,\n      });\n    } else {\n      this.props.setSubmitData(this.state);\n    }\n  };\n\n  private arePrivilegedAddressesValid = (addresses: Voter[]) => {\n    return (\n      addresses.length > 0 &&\n      addresses.every((a) => a.length === 42 && this.props.blockchainData.web3.utils.isAddress(a))\n    );\n  };\n\n  private isTypedAnswerValid = (typedAnswer: string) => {\n    return (\n      typedAnswer.length > 0 && ethStrBytesLength(typedAnswer) <= 32 && this.state.answers.indexOf(typedAnswer) === -1\n    );\n  };\n\n  private isAnswerListValid = (answerList: string[]) => {\n    return answerList.length >= 2;\n  };\n\n  private isCategoryNameValid = (categoryName: string) => {\n    return categoryName.length > 0 && ethStrBytesLength(categoryName) <= 32;\n  };\n\n  private doesCategoryAlreadyExist = (categorName: string) => {\n    for (let i = 0; i < this.state.categoryPanelProps.categoriesList.length; i++) {\n      if (this.state.categoryPanelProps.categoriesList[i].name === categorName) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  private isQuestionValid = (question: string) => {\n    return question.length > 0;\n  };\n}\n","import React, { Component } from \"react\";\nimport { Alert, Button } from \"react-bootstrap\";\nimport { ResultStatus } from \"../../utils/enums\";\nimport { ContractAddress, VotingCreatedEventData } from \"../../utils/types\";\n\ninterface IDisplayResultProps {\n  status: ResultStatus;\n  softReset: () => void;\n  hardReset: () => void;\n  txHash: ContractAddress;\n  votingCreatedEventData: VotingCreatedEventData;\n}\n\nexport default class DisplayResult extends Component<IDisplayResultProps> {\n  private ulStyle = { marginTop: \"10px\" };\n  private liStyle = { margin: \"5px 0px 8px -25px\" };\n  public render() {\n    if (this.props.status === ResultStatus.Success) {\n      return (\n        <Alert bsStyle=\"success\">\n          <h1 style={{ textAlign: \"center\", marginBottom: \"30px\" }}>Voting created</h1>\n          <h4 style={{ textAlign: \"center\" }}>\n            Share this address with your friends and let them know about your voting!\n          </h4>\n\n          <br />\n          <h4 style={{ textAlign: \"center\" }}>\n            <strong>{this.props.votingCreatedEventData ? this.props.votingCreatedEventData.votingAddress : \"\"}</strong>\n          </h4>\n          <br />\n          <p>\n            What's next? You can:\n            <ul style={this.ulStyle}>\n              <li style={this.liStyle}>\n                lookup the transaction information on Etherscan using this TxHash: <strong>{this.props.txHash}</strong>\n              </li>\n              <li style={this.liStyle}>paste the voting address into the searchbar on homepage</li>\n              <li style={this.liStyle}>\n                see all the votings on <strong>List Votings</strong> subpage\n              </li>\n              <li style={this.liStyle}>\n                <Button bsSize=\"small\" onClick={this.props.hardReset}>\n                  Create a new voting\n                </Button>\n              </li>\n            </ul>\n          </p>\n        </Alert>\n      );\n    } else {\n      return (\n        <Alert bsStyle=\"danger\">\n          <h4>Oh snap! You got an error!</h4>\n          <p>Your contract was not submitted. Press the button below to fill the form again.</p>\n          <p>\n            <Button onClick={this.props.softReset}>Return to form</Button>\n          </p>\n        </Alert>\n      );\n    }\n  }\n}\n","import React, { Component, Fragment } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport Loader from \"react-loader-spinner\";\n\ninterface ILoadingResultProps {\n  getTransactionResult: () => void;\n}\n\nexport default class LoadingResult extends Component<ILoadingResultProps> {\n  public componentDidMount = async () => {\n    this.props.getTransactionResult();\n  };\n\n  public render() {\n    return (\n      <Fragment>\n        <Row className=\"text-center\" style={{ marginTop: \"-1em\" }}>\n          <Col sm={12}>\n            <h2\n              style={{\n                fontFamily: \"Roboto\",\n                marginBottom: \"5vh\",\n                marginTop: \"5vh\",\n              }}\n            >\n              Please wait\n            </h2>\n          </Col>\n        </Row>\n        <Row className=\"text-center\">\n          <Col sm={12}>\n            <Loader style={{ marginTop: \"20vh\" }} type=\"Grid\" color=\"#00BFFF\" height=\"30%\" width=\"30%\" />\n          </Col>\n        </Row>\n        <Row className=\"text-center\">\n          <Col sm={12}>\n            <h2\n              style={{\n                fontFamily: \"Roboto\",\n                marginBottom: \"5vh\",\n                marginTop: \"5vh\",\n                textAlign: \"center\",\n              }}\n            >\n              Your transaction is being processed{\" \"}\n            </h2>\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Col, Grid, Row } from \"react-bootstrap\";\nimport \"react-datetime/css/react-datetime.css\"; // tslint:disable-line\nimport { TransactionReceipt } from \"web3/types\"; // tslint:disable-line\nimport { PageMode, ResultStatus, VoteType } from \"../../utils/enums\";\nimport { BlockchainData, ContractAddress, VoteFormData, VotingCreatedEventData } from \"../../utils/types\";\nimport CreateVoteForm, { ICreateVoteFormState } from \"./CreateVoteForm\";\nimport DisplayResult from \"./DisplayResult\";\nimport LoadingResult from \"./LoadingResult\";\n\ninterface ICreateVotePageProps {\n  blockchainData: BlockchainData;\n}\n\ninterface ICreateVotePageState {\n  formData: VoteFormData;\n  mode: PageMode;\n  resultStatus: ResultStatus;\n  txHash: ContractAddress;\n  votingCreatedEventData: VotingCreatedEventData;\n}\n\nexport default class CreateVotePage extends Component<ICreateVotePageProps, ICreateVotePageState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formData: null,\n      mode: PageMode.Form,\n      resultStatus: ResultStatus.Success,\n      txHash: \"\",\n      votingCreatedEventData: null,\n    };\n  }\n\n  public getTransactionResult = async () => {\n    const blockchainData = this.props.blockchainData;\n    const web3 = blockchainData.web3;\n    const manager = blockchainData.manager;\n\n    try {\n      let txResponse;\n      if (this.state.formData.categoryPanel === \"new\") {\n        txResponse = await manager.methods\n          .createVotingWithNewCategory(\n            web3.utils.fromUtf8(this.state.formData.chosenCategory),\n            this.state.formData.question,\n            this.state.formData.answers.map((opt) => web3.utils.fromUtf8(opt)),\n            this.state.formData.voteEndDateTime.unix(),\n            this.state.formData.voteEndDateTime.unix() + this.state.formData.votingExpiryOption,\n            this.state.formData.voteType === VoteType.Private ? true : false,\n            this.state.formData.voteType === VoteType.Private ? this.state.formData.privilegedVoters : []\n          )\n          .send();\n      } else {\n        txResponse = await manager.methods\n          .createVotingWithExistingCategory(\n            this.state.formData.chosenCategory,\n            this.state.formData.question,\n            this.state.formData.answers.map((opt) => web3.utils.fromUtf8(opt)),\n            this.state.formData.voteEndDateTime.unix(),\n            this.state.formData.voteEndDateTime.unix() + this.state.formData.votingExpiryOption,\n            this.state.formData.voteType === VoteType.Private ? true : false,\n            this.state.formData.voteType === VoteType.Private ? this.state.formData.privilegedVoters : []\n          )\n          .send();\n      }\n      const txReceipt = txResponse as TransactionReceipt;\n      const txHash = txReceipt.transactionHash;\n      const votingCreatedEventData = web3.eth.abi.decodeLog(\n        [\n          {\n            indexed: false,\n            name: \"creator\",\n            type: \"address\",\n          },\n          {\n            indexed: false,\n            name: \"votingAddress\",\n            type: \"address\",\n          },\n          {\n            indexed: false,\n            name: \"question\",\n            type: \"string\",\n          },\n        ],\n        txReceipt.events.VotingCreated.raw.data,\n        txReceipt.events.VotingCreated.raw.topics\n      ) as VotingCreatedEventData;\n\n      this.setState(() => ({\n        resultStatus: ResultStatus.Success,\n        txHash,\n        votingCreatedEventData,\n      }));\n    } catch (e) {\n      console.error(e);\n      this.setState(() => ({\n        resultStatus: ResultStatus.Failure,\n      }));\n    } finally {\n      this.setState(() => ({\n        mode: PageMode.Finalized,\n      }));\n    }\n  };\n\n  public render() {\n    return (\n      <Grid>\n        {this.state.mode === PageMode.Form && (\n          <Row>\n            <Col md={12}>\n              <h1 style={{ fontWeight: \"bold\", marginTop: \"1.2em\", marginBottom: \"1.2em\", textAlign: \"center\" }}>\n                Create new voting\n              </h1>\n            </Col>\n          </Row>\n        )}\n        <Row>\n          {this.state.mode === PageMode.Form ? (\n            <Col md={10} mdOffset={1}>\n              <CreateVoteForm\n                setSubmitData={this.setSubmitData}\n                formData={this.state.formData}\n                blockchainData={this.props.blockchainData}\n              />\n            </Col>\n          ) : this.state.mode === PageMode.Fetching ? (\n            <Col md={6} mdOffset={3}>\n              <LoadingResult getTransactionResult={this.getTransactionResult} />\n            </Col>\n          ) : (\n            <Col md={8} mdOffset={2}>\n              <DisplayResult\n                status={this.state.resultStatus}\n                softReset={this.setModeToForm}\n                hardReset={this.resetPage}\n                votingCreatedEventData={this.state.votingCreatedEventData}\n                txHash={this.state.txHash}\n              />\n            </Col>\n          )}\n        </Row>\n      </Grid>\n    );\n  }\n\n  private setSubmitData = (formState: ICreateVoteFormState) => {\n    const formData: VoteFormData = {\n      answers: formState.answers,\n      categoryPanel: formState.categoryPanelProps.categoryPanel,\n      chosenCategory: formState.categoryPanelProps.chosenCategory,\n      privilegedVoters: formState.privilegedVoters,\n      question: formState.question,\n      voteEndDateTime: formState.voteDatesProps.endDateTime,\n      voteType: formState.voteType,\n      votingExpiryOption: formState.voteDatesProps.votingExpiryOption,\n    };\n    this.setState(() => ({\n      formData,\n      mode: PageMode.Fetching,\n    }));\n  };\n\n  private setModeToForm = () => {\n    this.setState(() => ({\n      mode: PageMode.Form,\n    }));\n  };\n\n  private resetPage = () => {\n    this.setState(() => ({\n      formData: null,\n      mode: PageMode.Form,\n      txHash: \"\",\n      votingCreatedEventData: null,\n    }));\n  };\n}\n","import React, { Component } from \"react\";\nimport { Modal, Panel } from \"react-bootstrap\";\n\ninterface INotFoundModalProps {\n  show: boolean;\n  handleOnHide: () => void;\n}\n\nexport default class NotFoundModal extends Component<INotFoundModalProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  public render() {\n    return (\n      <Modal show={this.props.show} onHide={this.props.handleOnHide}>\n        <Modal.Header>\n          <Modal.Title className=\"text-center\">Voting not found</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Panel>\n            <Panel.Heading>\n              <Panel.Title componentClass=\"h3\">Possible reasons</Panel.Title>\n            </Panel.Heading>\n            <Panel.Body>\n              <h4>Invalid address</h4>\n              <p>You might have done a spelling error in the provided address.</p>\n              <h4>Voting has expired</h4>\n              <p>\n                Every voting has an expiration date. When it passes, it is impossible to check the results of the voting\n                via our application. However, because transactions on the blockchain are permanent, you can still\n                examine the voting contract's state using Etherscan:\n                <ul>\n                  <li>\n                    <a href=\"https://etherscan.io/\">Mainnet (Official Ethereum Network)</a>\n                  </li>\n                  <li>\n                    <a href=\"https://ropsten.etherscan.io/\">Ropsten (Test Network)</a>\n                  </li>\n                  <li>\n                    <a href=\"https://kovan.etherscan.io/\">Kovan (Test Network)</a>\n                  </li>\n                  <li>\n                    <a href=\"https://rinkeby.etherscan.io/\">Rinkeby (Test Network)</a>\n                  </li>\n                </ul>\n              </p>\n            </Panel.Body>\n          </Panel>\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Cell, Legend, Pie, PieChart, ResponsiveContainer, Tooltip } from \"recharts\";\nimport { Voting } from \"../../utils/types\";\n\ninterface IResultsPieChartProps {\n  results: string[];\n  voting: Voting;\n}\n\ninterface IResultsPieChartState {\n  chartData: any[];\n  label: React.SVGProps<SVGAElement>;\n}\n\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent }) => {\n  const RADIAN = Math.PI / 180;\n  const radius = innerRadius + (outerRadius - innerRadius) * 1.2;\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\n  return (\n    <text x={x} y={y} fill=\"black\" textAnchor={x > cx ? \"start\" : \"end\"} dominantBaseline=\"central\">\n      {`${(percent * 100).toFixed(2)}%`}\n    </text>\n  );\n};\n\nconst COLORS = [\n  \"#4FFF43\",\n  \"#FF7543\",\n  \"#438FFF\",\n  \"#DAFF43\",\n  \"#565A49\",\n  \"#DC35E8\",\n  \"#99FFCC\",\n  \"#B2A23A\",\n  \"#000066\",\n  \"#006666\",\n];\n\nexport default class ResultsPieChart extends Component<IResultsPieChartProps, IResultsPieChartState> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      chartData: [],\n      label: null,\n    };\n  }\n\n  public componentDidMount = () => {\n    const chartData = [];\n    const answers = this.props.voting.info.answers;\n    const results = this.props.results.map((result) => parseInt(result, 10));\n\n    for (let index = 0; index < answers.length; index++) {\n      if (results[index] !== 0) {\n        const singleOption = { name: answers[index], value: results[index] };\n        chartData.push(singleOption);\n      }\n    }\n\n    this.setState({\n      chartData,\n    });\n  };\n\n  public render() {\n    return (\n      <ResponsiveContainer width=\"100%\" height={500}>\n        <PieChart>\n          <Pie\n            isAnimationActive={true}\n            data={this.state.chartData}\n            cx=\"50%\"\n            cy=\"45%\"\n            outerRadius=\"70%\"\n            label={renderCustomizedLabel}\n            fill=\"#8884d8\"\n          >\n            {this.state.chartData.map((_, index) => (\n              <Cell fill={COLORS[index % COLORS.length]} />\n            ))}\n          </Pie>\n          <Tooltip />\n          <Legend iconSize={20} />\n        </PieChart>\n      </ResponsiveContainer>\n    );\n  }\n}\n","import moment from \"moment\";\nimport React, { Component, Fragment } from \"react\";\nimport { Button, Col, ControlLabel, Modal, Panel, Row } from \"react-bootstrap\";\nimport Loader from \"react-loader-spinner\";\nimport { submitVote } from \"../../utils/eth\";\nimport { BlockchainData, Voting } from \"../../utils/types\";\n\ninterface IVoteModalProps {\n  blockchainData: BlockchainData;\n  chosenAnswer: number;\n  voting: Voting;\n  show: boolean;\n  setChosenAnswerInParent: (arg: number) => void;\n  requestDataRefresh: () => void;\n  handleOnHide: () => void;\n}\n\ninterface IVoteModalState {\n  isWaitingForTxResponse: boolean;\n  show: boolean;\n}\nexport const covertTimestampToDate = (timestamp) => {\n  return moment.unix(timestamp).format(\"MMMM Do YYYY, h:mm:ss A\");\n};\nexport default class VoteModal extends Component<IVoteModalProps, IVoteModalState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isWaitingForTxResponse: false,\n      show: false,\n    };\n  }\n\n  public render() {\n    return (\n      <Modal show={this.props.show} onHide={this.props.handleOnHide}>\n        <Modal.Body>\n          {this.state.isWaitingForTxResponse ? (\n            <Fragment>\n              <Row className=\"text-center\" style={{ marginTop: \"-1em\" }}>\n                <Col sm={12}>\n                  <h2\n                    style={{\n                      fontFamily: \"Roboto\",\n                      marginBottom: \"5vh\",\n                      marginTop: \"5vh\",\n                    }}\n                  >\n                    Please wait\n                  </h2>\n                </Col>\n              </Row>\n              <Row className=\"text-center\">\n                <Col sm={12}>\n                  <Loader style={{ marginTop: \"20vh\" }} type=\"Grid\" color=\"#00BFFF\" height=\"30%\" width=\"30%\" />\n                </Col>\n              </Row>\n              <Row className=\"text-center\">\n                <Col sm={12}>\n                  <h2\n                    style={{\n                      fontFamily: \"Roboto\",\n                      marginBottom: \"5vh\",\n                      marginTop: \"5vh\",\n                      textAlign: \"center\",\n                    }}\n                  >\n                    Your transaction is being processed{\" \"}\n                  </h2>\n                </Col>\n              </Row>\n            </Fragment>\n          ) : (\n            <Fragment>\n              <Panel>\n                <Panel.Heading>\n                  <Panel.Title className=\"text-center\" style={{ fontSize: \"1.5em\", fontWeight: \"bold\" }}>\n                    Voting info\n                  </Panel.Title>\n                </Panel.Heading>\n                <Panel.Body>\n                  <ControlLabel style={{ fontSize: \"1.2em\" }}>Question</ControlLabel>\n                  <p>{this.props.voting.info.question}</p>\n                  <ControlLabel style={{ fontSize: \"1.2em\" }}>Voting deadline</ControlLabel>\n                  <p>{covertTimestampToDate(this.props.voting.info.votingEndTime)}</p>\n                  <ControlLabel style={{ fontSize: \"1.2em\" }}>Results expiry date</ControlLabel>\n                  <p>{covertTimestampToDate(this.props.voting.info.resultsEndTime)}</p>\n                  <ControlLabel style={{ fontSize: \"1.2em\" }}>Voting type</ControlLabel>\n                  <p>{this.props.voting.info.isPrivate ? \"Private\" : \"Public\"}</p>\n                  <ControlLabel style={{ fontSize: \"1.2em\" }}>Voting address</ControlLabel>\n                  <p>{this.props.voting.contract._address}</p>\n                </Panel.Body>\n              </Panel>\n              <Panel id={\"choice-panel\"}>\n                <Panel.Heading>\n                  <Panel.Title className=\"text-center\" style={{ fontSize: \"1.5em\", fontWeight: \"bold\" }}>\n                    Possible answers\n                  </Panel.Title>\n                </Panel.Heading>\n\n                <Panel.Body>\n                  {this.props.voting.info.answers.map((answer, index) => {\n                    return (\n                      <Row key={answer}>\n                        <Col sm={10} style={{ paddingLeft: \"60px\" }}>\n                          <h4>{answer}</h4>\n                        </Col>\n                        <Col sm={2} style={{ paddingRight: \"30px\" }}>\n                          <Button\n                            className=\"pull-right\"\n                            value={index}\n                            onClick={() => this.handleAnswerClick(index)}\n                            {...((this.props.voting.info.isPrivileged !== null &&\n                              !this.props.voting.info.isPrivileged) ||\n                            this.props.voting.info.hasUserVoted\n                              ? { disabled: true }\n                              : null)}\n                            {...(this.props.chosenAnswer === index ? { active: true } : null)}\n                          >\n                            Pick answer #{index + 1}\n                          </Button>\n                        </Col>\n                      </Row>\n                    );\n                  })}\n                </Panel.Body>\n              </Panel>\n            </Fragment>\n          )}\n        </Modal.Body>\n        {this.state.isWaitingForTxResponse ? null : (\n          <Modal.Footer>\n            <Row>\n              <Col sm={12} className=\"text-center\">\n                {this.props.voting.info.hasUserVoted ? (\n                  <h4>You have already voted!</h4>\n                ) : (\n                  <Button\n                    bsStyle=\"primary\"\n                    {...(this.props.voting.info.isPrivileged !== null && !this.props.voting.info.isPrivileged\n                      ? { disabled: true }\n                      : null)}\n                    onClick={this.handleSubmit}\n                  >\n                    Submit your vote!\n                  </Button>\n                )}\n              </Col>\n            </Row>\n          </Modal.Footer>\n        )}\n      </Modal>\n    );\n  }\n\n  private handleAnswerClick = (chosenAnswer: number) => {\n    this.props.setChosenAnswerInParent(chosenAnswer);\n  };\n\n  private handleSubmit = async () => {\n    this.setState({ isWaitingForTxResponse: true });\n    try {\n      await submitVote(this.props.blockchainData, this.props.voting, this.props.chosenAnswer);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      this.setState({ isWaitingForTxResponse: false });\n    }\n    this.props.requestDataRefresh();\n  };\n}\n","import React, { Component, Fragment } from \"react\";\nimport { ControlLabel, Modal, Panel, Table } from \"react-bootstrap\";\nimport { Voting, VotingInfo } from \"../../utils/types\";\nimport ResultsPieChart from \"./ResultsPieChart\";\nimport { covertTimestampToDate } from \"./VoteModal\";\n\ninterface IResultsModalProps {\n  results: string[];\n  show: boolean;\n  voting: Voting;\n  handleOnHide: () => void;\n}\n\nexport default class ResultsModal extends Component<IResultsModalProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  public getSortedAnswersWithResults = () => {\n    const results = this.props.results.map((result) => parseInt(result, 10));\n    // const resultsPercentage = this.props.results.map((result) => parseInt(result, 10)/results);\n\n    results.sort().reverse();\n    const votingInfo: VotingInfo = this.props.voting.info;\n    const answersAndResults: Array<{ answer: string; result: number }> = [];\n    for (let i = 0; i < this.props.voting.info.answers.length; i++) {\n      const currentAnswer = votingInfo.answers[i];\n      const currenResult = parseInt(this.props.results[i], 10);\n      answersAndResults.push({ answer: currentAnswer, result: currenResult });\n    }\n\n    answersAndResults.sort((first, second) => {\n      return second.result - first.result;\n    });\n\n    return answersAndResults;\n  };\n\n  public render() {\n    const answersAndResults = this.getSortedAnswersWithResults();\n    const sumOfAllVotes = answersAndResults.reduce((partial, obj) => partial + obj.result, 0);\n    return (\n      <Modal show={this.props.show} onHide={this.props.handleOnHide}>\n        <Modal.Body>\n          <Panel>\n            <Panel.Heading>\n              <Panel.Title className=\"text-center\" style={{ fontSize: \"1.5em\", fontWeight: \"bold\" }}>\n                Voting info\n              </Panel.Title>\n            </Panel.Heading>\n            <Panel.Body>\n              <ControlLabel style={{ fontSize: \"1.2em\" }}>Question</ControlLabel>\n              <p>{this.props.voting.info.question}</p>\n\n              <ControlLabel style={{ fontSize: \"1.2em\" }}>Possible answers</ControlLabel>\n              <ul>\n                {this.props.voting.info.answers.map((answer) => {\n                  return <li key={answer}>{answer}</li>;\n                })}\n              </ul>\n              <ControlLabel style={{ fontSize: \"1.2em\" }}>Voting deadline</ControlLabel>\n              <p>{covertTimestampToDate(this.props.voting.info.votingEndTime)}</p>\n              <ControlLabel style={{ fontSize: \"1.2em\" }}>Results expiry date</ControlLabel>\n              <p>{covertTimestampToDate(this.props.voting.info.resultsEndTime)}</p>\n              <ControlLabel style={{ fontSize: \"1.2em\" }}>Voting type</ControlLabel>\n              <p>{this.props.voting.info.isPrivate ? \"Private\" : \"Public\"}</p>\n              <ControlLabel style={{ fontSize: \"1.2em\" }}>Voting address</ControlLabel>\n              <p>{this.props.voting.contract._address}</p>\n            </Panel.Body>\n          </Panel>\n\n          <Panel>\n            <Panel.Heading>\n              <Panel.Title className=\"text-center\" style={{ fontSize: \"1.5em\", fontWeight: \"bold\" }}>\n                Voting results\n              </Panel.Title>\n            </Panel.Heading>\n            <Panel.Body>\n              <Table responsive>\n                <thead>\n                  <tr>\n                    <th style={{ textAlign: \"center\" }}>Answer</th>\n                    <th style={{ textAlign: \"center\" }}>No. votes</th>\n                    <th style={{ textAlign: \"center\" }}>Percentage</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {answersAndResults.map((element) => (\n                    <tr key={element.answer}>\n                      <td style={{ width: \"65%\" }}>{element.answer}</td>\n                      <td style={{ textAlign: \"center\" }}>{element.result}</td>\n                      <td style={{ textAlign: \"center\" }}>\n                        {((100 * element.result) / (sumOfAllVotes > 0 ? sumOfAllVotes : 1)).toFixed(2)}%\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n\n              {this.props.results.every((val) => parseInt(val, 10) === 0) ? (\n                <h3 className=\"text-center\">No one has voted!</h3>\n              ) : (\n                <Fragment>\n                  <ResultsPieChart results={this.props.results} voting={this.props.voting} />\n                </Fragment>\n              )}\n            </Panel.Body>\n          </Panel>\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n","import moment from \"moment\";\nimport React, { Component } from \"react\";\nimport {\n  Button,\n  Col,\n  ControlLabel,\n  FormControl,\n  FormGroup,\n  Glyphicon,\n  Grid,\n  HelpBlock,\n  InputGroup,\n  Row,\n} from \"react-bootstrap\";\nimport DVPLogo from \"../../images/distributed-voting-platform.png\";\nimport { Validation } from \"../../utils/enums\";\nimport { fetchResults, fetchVoting } from \"../../utils/eth\";\nimport { BlockchainData, Voting } from \"../../utils/types\";\nimport NotFoundModal from \"../vote/NotFoundModal\";\nimport ResultsModal from \"../vote/ResultsModal\";\nimport VoteModal from \"../vote/VoteModal\";\ninterface IHomePageProps {\n  blockchainData: BlockchainData;\n}\n\ninterface IHomePageState {\n  chosenAnswer: number;\n  isDataRefreshRequested: boolean;\n  searchActionCalled: boolean;\n  searchBoxText: string;\n  showNotFoundModal: boolean;\n  showResultsModal: boolean;\n  showVoteModal: boolean;\n  voting: Voting;\n  votingResults: string[];\n}\n\nexport default class HomePage extends Component<IHomePageProps, IHomePageState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chosenAnswer: null,\n      isDataRefreshRequested: false,\n      searchActionCalled: false,\n      searchBoxText: \"\",\n      showNotFoundModal: false,\n      showResultsModal: false,\n      showVoteModal: false,\n      voting: null,\n      votingResults: null,\n    };\n  }\n\n  public searchVoting = async () => {\n    if (this.getValidationState() !== Validation.Success) {\n      return;\n    }\n\n    const address = this.state.searchBoxText;\n    const fetchedVoting = await fetchVoting(this.props.blockchainData, address);\n\n    this.setState({\n      searchActionCalled: true,\n      voting: fetchedVoting,\n    });\n\n    if (fetchedVoting != null) {\n      const now = moment().utc().unix(); // prettier-ignore\n      if (now <= fetchedVoting.info.votingEndTime) {\n        this.setState({\n          showNotFoundModal: false,\n          showResultsModal: false,\n          showVoteModal: true,\n        });\n      } else if (now <= fetchedVoting.info.resultsEndTime) {\n        const results = await fetchResults(this.state.voting);\n        this.setState({\n          showNotFoundModal: false,\n          showResultsModal: true,\n          showVoteModal: false,\n          votingResults: results,\n        });\n      }\n    } else {\n      this.setState({\n        showNotFoundModal: true,\n        showResultsModal: false,\n        showVoteModal: false,\n      });\n    }\n  };\n\n  public handleAnswerClick = (answerIndexFromChild: number) => {\n    this.setState({ chosenAnswer: answerIndexFromChild });\n  };\n\n  public getValidationState = () => {\n    if (this.state.searchBoxText !== \"\") {\n      const isValid = this.props.blockchainData.web3.utils.isAddress(this.state.searchBoxText);\n      if (!isValid || this.state.searchBoxText.length !== 42) {\n        return Validation.Error;\n      } else {\n        return Validation.Success;\n      }\n    }\n    return null;\n  };\n\n  public handleSearchBoxChange = (e) => {\n    this.setState({\n      searchBoxText: e.target.value,\n    });\n  };\n\n  public setErrorHelper = () => {\n    const text = this.state.searchBoxText;\n\n    if (text.length < 42) {\n      if (text[0] !== \"0\" || (text.length >= 2 && text.substring(0, 2) !== \"0x\")) {\n        return \"Address must begin with '0x' prefix\";\n      }\n      if (text.length > 2 && !text.match(\"^0x[A-Fa-f0-9]+$\")) {\n        return \"Address suffix must consist of only hexadecimal digits (0-9, A-F, a-f)\";\n      }\n      return \"Address must be 42 characters long\";\n    }\n    if (text.length === 42) {\n      if (text.substring(0, 2) !== \"0x\") {\n        return \"Address must begin with '0x' prefix\";\n      }\n      if (!text.match(\"^0x[A-Fa-f0-9]+$\")) {\n        return \"Address suffix must consist of only hexadecimal digits (0-9, A-F, a-f)\";\n      }\n      return \"Wrong checksum\";\n    }\n    return \"Address must be 42 characters long\";\n  };\n\n  public render() {\n    const validationState = this.getValidationState();\n    let modal;\n    if (this.state.voting != null) {\n      if (this.state.showVoteModal) {\n        modal = (\n          <VoteModal\n            voting={this.state.voting}\n            blockchainData={this.props.blockchainData}\n            requestDataRefresh={this.searchVoting}\n            show={this.state.showVoteModal}\n            handleOnHide={() => this.setState({ showVoteModal: false })}\n            chosenAnswer={this.state.chosenAnswer}\n            setChosenAnswerInParent={this.handleAnswerClick}\n          />\n        );\n      } else if (this.state.showResultsModal) {\n        modal = (\n          <ResultsModal\n            show={this.state.showResultsModal}\n            handleOnHide={() => this.setState({ showResultsModal: false })}\n            voting={this.state.voting}\n            results={this.state.votingResults}\n          />\n        );\n      }\n    } else if (this.state.searchActionCalled) {\n      modal = (\n        <NotFoundModal\n          show={this.state.showNotFoundModal}\n          handleOnHide={() => this.setState({ showNotFoundModal: false })}\n        />\n      );\n    }\n\n    return (\n      <Grid>\n        <Row>\n          <img\n            style={{\n              display: \"block\",\n              marginLeft: \"auto\",\n              marginRight: \"auto\",\n              maxHeight: \"250px\",\n            }}\n            src={DVPLogo}\n          />\n          <div style={{ marginBottom: \"4em\", marginTop: \"-5em\" }}>\n            <h1 style={{ fontSize: \"5em\", fontFamily: \"Roboto\", textAlign: \"center\", marginTop: \"1em\" }}>\n              Distributed Voting Platform\n            </h1>\n            <h3 style={{ fontFamily: \"Roboto\", textAlign: \"center\" }}>\n              Fully anonymous and transparent voting platform powered by Ethereum blockchain.\n            </h3>\n          </div>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <FormGroup>\n              <ControlLabel style={{ fontSize: \"2em\" }}>Search for the voting</ControlLabel>\n              <HelpBlock>\n                Enter a valid keccak256 Ethereum address. Use all upper- or lowercase characters to ignore{\" \"}\n                <a href=\"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md\">checksum validation</a>.\n              </HelpBlock>\n              <InputGroup>\n                <FormGroup bsSize=\"large\" controlId=\"address\" validationState={validationState}>\n                  <FormControl\n                    type=\"text\"\n                    value={this.state.searchBoxText}\n                    onChange={this.handleSearchBoxChange}\n                    placeholder=\"Enter voting adress\"\n                    onKeyPress={(event) => {\n                      if (event.key === \"Enter\") {\n                        this.searchVoting();\n                      }\n                    }}\n                  />\n                  <FormControl.Feedback />\n                </FormGroup>\n                <InputGroup.Button>\n                  <Button bsSize=\"large\" onClick={this.searchVoting} disabled={validationState === Validation.Error}>\n                    <Glyphicon glyph=\"search\" />\n                  </Button>\n                </InputGroup.Button>\n              </InputGroup>\n              {validationState === Validation.Error && (\n                <HelpBlock style={{ color: \"#a94442\" }}>{this.setErrorHelper()}</HelpBlock>\n              )}\n            </FormGroup>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>{modal}</Col>\n        </Row>\n      </Grid>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport NoMetamaskAccess from \"../../images/no-acceptance.png\";\nimport NoMetamaskInstalled from \"../../images/no-metamask.png\";\nimport WrongNetwork from \"../../images/wrong-network.png\";\nimport AboutPage from \"../about/AboutPage\";\n\ninterface INoAccessPageProps {\n  title: string;\n  firstParagraph: string;\n  secondParagraph: any;\n  imgChoice: number;\n}\n\nexport default class NoAccessPage extends Component<INoAccessPageProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  public render() {\n    let imgSrc;\n    if (this.props.imgChoice == 1) {\n      imgSrc = NoMetamaskInstalled;\n    } else if (this.props.imgChoice === 2) {\n      imgSrc = WrongNetwork;\n    } else {\n      imgSrc = NoMetamaskAccess;\n    }\n    return (\n      <div>\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <div style={{ width: \"100vw\", height: \"100vh\" }}>\n              <h1\n                style={{\n                  fontFamily: \"Roboto\",\n                  fontSize: \"4em\",\n                  marginBottom: \"1.5em\",\n                  marginTop: \"1.5em\",\n                  textAlign: \"center\",\n                }}\n              >\n                {this.props.title}\n              </h1>\n              <img\n                style={{\n                  display: \"block\",\n                  height: \"auto\", // 2nd option: 50%\n                  marginBottom: \"1.5em\",\n                  marginLeft: \"auto\",\n                  marginRight: \"auto\",\n                  maxHeight: \"50%\", // 2nd option: remove\n                  maxWidth: \"70%\", // 2nd option: remove\n                  width: \"auto\", // 2nd option: auto\n                }}\n                src={imgSrc}\n              />\n              <p style={{ fontSize: \"2em\", fontFamily: \"Roboto\", textAlign: \"center\" }}>{this.props.firstParagraph}</p>\n              <p style={{ fontSize: \"2em\", fontFamily: \"Roboto\", textAlign: \"center\" }}>{this.props.secondParagraph}</p>\n            </div>\n          )}\n        />\n        <Route exact path=\"/about\" component={AboutPage} />\n        <Redirect path=\"*\" to=\"/\" />\n      </div>\n    );\n  }\n}\n","import React, { Component, Fragment } from \"react\";\nimport { ControlLabel, DropdownButton, FormGroup, HelpBlock, MenuItem } from \"react-bootstrap\";\nimport Loader from \"react-loader-spinner\";\nimport { fetchCategories } from \"../../utils/eth\";\nimport { BlockchainData, Category } from \"../../utils/types\";\n\ninterface ICategoryListProps {\n  blockchainData: BlockchainData;\n  categories: Category[];\n  chosenCategoryIndex: number;\n  setChosenCategoryInParent: (arg: number) => void;\n  setCategoriesInParent: (arg: Category[]) => void;\n}\n\ninterface ICategoryListState {\n  areCategoriesFetched: boolean;\n  buttonTitle: string;\n}\n\nexport default class CategoryDropdown extends Component<ICategoryListProps, ICategoryListState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      areCategoriesFetched: false,\n      buttonTitle: \"Category\",\n    };\n  }\n\n  public componentDidMount = async () => {\n    if (this.props.blockchainData) {\n      const categories = await fetchCategories(this.props.blockchainData);\n      this.props.setCategoriesInParent(categories);\n      this.setState({ areCategoriesFetched: true });\n    }\n  };\n\n  public componentDidUpdate = async () => {\n    // If blockchainData was initialized after this component had mounted\n    if (!this.state.areCategoriesFetched && this.props.blockchainData) {\n      const categories = await fetchCategories(this.props.blockchainData);\n      this.props.setCategoriesInParent(categories);\n      this.setState({ areCategoriesFetched: true });\n    }\n  };\n\n  public handleOnClick = (chosenCategoryName: string) => {\n    this.setState({ buttonTitle: chosenCategoryName });\n    let chosenCategoryIndex: number;\n    this.props.categories.forEach((category, index) => {\n      if (category.name === chosenCategoryName) {\n        chosenCategoryIndex = index;\n      }\n    });\n    this.props.setChosenCategoryInParent(chosenCategoryIndex);\n  };\n\n  public render() {\n    return (\n      <Fragment>\n        <FormGroup>\n          <ControlLabel style={{ fontSize: \"1.5em\" }}>Category</ControlLabel>\n          <HelpBlock>Select an existing category from the list</HelpBlock>\n          {this.state.areCategoriesFetched ? (\n            <DropdownButton id=\"categories\" title={this.state.buttonTitle} bsStyle=\"default\">\n              {this.props.categories.map((cat, index) => {\n                return (\n                  <MenuItem\n                    key={cat.name}\n                    eventKey={cat.name}\n                    onSelect={() => this.handleOnClick(cat.name)}\n                    {...(index === this.props.chosenCategoryIndex ? { active: true } : null)}\n                  >\n                    {cat.name}\n                  </MenuItem>\n                );\n              })}\n            </DropdownButton>\n          ) : (\n            <div>\n              <Loader type=\"Grid\" color=\"#00BFFF\" height=\"10%\" width=\"10%\" />\n\n              <h2>Fetching data from blockchain...</h2>\n            </div>\n          )}\n        </FormGroup>\n      </Fragment>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { ControlLabel, FormGroup, HelpBlock, ToggleButton, ToggleButtonGroup } from \"react-bootstrap\";\nimport { PrivacySetting } from \"../../utils/enums\";\n\ninterface IPrivacyButtonsProps {\n  chosenPrivacySetting: PrivacySetting;\n  setchosenPrivacySettingInParent: (arg: PrivacySetting) => void;\n}\n\nexport default class PrivacyButtons extends Component<IPrivacyButtonsProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  public handleOnChange = (chosenPrivacySetting: PrivacySetting) => {\n    this.props.setchosenPrivacySettingInParent(chosenPrivacySetting);\n  };\n\n  public render() {\n    return (\n      <FormGroup>\n        <ControlLabel style={{ fontSize: \"1.5em\" }}>Voting type</ControlLabel>\n        <HelpBlock>Display votings with selected privacy type</HelpBlock>\n        <ToggleButtonGroup\n          type=\"radio\"\n          name=\"privacySetting\"\n          value={this.props.chosenPrivacySetting}\n          onChange={this.handleOnChange}\n          justified\n        >\n          <ToggleButton\n            value={PrivacySetting.All}\n            {...(this.props.chosenPrivacySetting === PrivacySetting.All ? { active: true } : null)}\n          >\n            {PrivacySetting.All}\n          </ToggleButton>\n          <ToggleButton\n            value={PrivacySetting.Public}\n            {...(this.props.chosenPrivacySetting === PrivacySetting.Public ? { active: true } : null)}\n          >\n            {PrivacySetting.Public}\n          </ToggleButton>\n          <ToggleButton\n            value={PrivacySetting.Private}\n            {...(this.props.chosenPrivacySetting === PrivacySetting.Private ? { active: true } : null)}\n          >\n            {PrivacySetting.Private}\n          </ToggleButton>\n        </ToggleButtonGroup>\n      </FormGroup>\n    );\n  }\n}\n","import moment from \"moment\";\nimport React, { Component, Fragment } from \"react\";\nimport {\n  Glyphicon,\n  HelpBlock,\n  ListGroup,\n  ListGroupItem,\n  OverlayTrigger,\n  Pagination,\n  Panel,\n  Tooltip,\n} from \"react-bootstrap\";\nimport { PrivacySetting, VotingState } from \"../../utils/enums\";\nimport { fetchVotings } from \"../../utils/eth\";\nimport { BlockchainData, Category, ContractAddress, Voting } from \"../../utils/types\";\n\ninterface IVotingListProps {\n  blockchainData: BlockchainData;\n  chosenVotingAddress: ContractAddress;\n  category: Category;\n  displayInaccessibleVotings: boolean;\n  filterPhase: string;\n  votings: Voting[];\n  privacySetting: PrivacySetting;\n  votingState: VotingState;\n  isDataRefreshRequested: boolean;\n  dataRefreshRequestHandled: () => void;\n  setVotingsInParent: (arg: Voting[]) => void;\n  setChosenVotingAddressInParent: (arg: ContractAddress) => void;\n}\n\ninterface IVotingListState {\n  activePageIndex: number;\n  areVotingsFetched: boolean;\n}\n\nexport default class VotingList extends Component<IVotingListProps, IVotingListState> {\n  private nrOfVotingsPerPage = 10; // TBD\n\n  private publicVotingTooltip = (\n    <Tooltip id=\"tooltip\">\n      <strong>Public voting</strong>\n      <p>Everyone can take active participation in this voting!</p>\n    </Tooltip>\n  );\n\n  private privateVotingTooltip = (\n    <Tooltip id=\"tooltip\">\n      <strong>Private voting with access</strong>\n      <p>You are permitted to take active participation in this voting.</p>\n    </Tooltip>\n  );\n\n  private inaccessibleVotingTooltip = (\n    <Tooltip id=\"tooltip\">\n      <strong>Inaccessible private voting</strong>\n      <p>\n        Voting creator did not grant you access to this voting. You cannot take active participation, but you can still\n        look at the results!\n      </p>\n    </Tooltip>\n  );\n\n  constructor(params) {\n    super(params);\n\n    this.state = {\n      activePageIndex: 1,\n      areVotingsFetched: false,\n    };\n  }\n\n  public componentDidMount = async () => {\n    if (this.props.blockchainData) {\n      this.fetchVotingsAndSetState();\n    }\n  };\n\n  public componentDidUpdate = async (prevProps: IVotingListProps) => {\n    if (prevProps.category !== this.props.category) {\n      this.setState({ areVotingsFetched: false });\n    }\n    if (prevProps.privacySetting !== this.props.privacySetting) {\n      this.setState({ activePageIndex: 1 });\n    }\n    if (prevProps.displayInaccessibleVotings !== this.props.displayInaccessibleVotings) {\n      this.setState({ activePageIndex: 1 });\n    }\n    if (prevProps.filterPhase !== this.props.filterPhase) {\n      this.setState({ activePageIndex: 1 });\n    }\n    if (this.props.isDataRefreshRequested && this.props.blockchainData) {\n      this.fetchVotingsAndSetState();\n      this.props.dataRefreshRequestHandled();\n    }\n    if (!this.state.areVotingsFetched && this.props.blockchainData) {\n      this.fetchVotingsAndSetState();\n    }\n    const pageInfo = document.getElementById(\"xd\");\n    if (pageInfo) pageInfo.focus();\n  };\n\n  public render() {\n    const filteredVotings = this.filteredVotings();\n    const nrOfPages = Math.ceil(filteredVotings.length / this.nrOfVotingsPerPage);\n    const votingsToDisplay = this.getVotingsForPage(filteredVotings);\n    return (\n      <Fragment>\n        {this.state.areVotingsFetched ? (\n          <Fragment>\n            <Panel>\n              <ListGroup>\n                {votingsToDisplay.length > 0 ? (\n                  votingsToDisplay.map((voting) => {\n                    if (voting.info.isPrivate && voting.info.isPrivileged) {\n                      return (\n                        <OverlayTrigger\n                          key={voting.contract._address}\n                          placement=\"right\"\n                          overlay={this.privateVotingTooltip}\n                        >\n                          <ListGroupItem\n                            className=\"private\"\n                            onClick={this.handleVotingClick}\n                            {...(voting.info.hasUserVoted ? { bsStyle: \"success\" } : null)}\n                          >\n                            {voting.info.question}\n                            <Glyphicon glyph=\"lock\" className=\"pull-right\" />\n                          </ListGroupItem>\n                        </OverlayTrigger>\n                      );\n                    } else if (voting.info.isPrivate && !voting.info.isPrivileged) {\n                      return (\n                        <OverlayTrigger\n                          key={voting.contract._address}\n                          placement=\"right\"\n                          overlay={this.inaccessibleVotingTooltip}\n                        >\n                          <ListGroupItem className=\"inaccessible\" onClick={this.handleVotingClick} bsStyle=\"danger\">\n                            {voting.info.question}\n                            <Glyphicon glyph=\"ban-circle\" className=\"pull-right\" />\n                          </ListGroupItem>\n                        </OverlayTrigger>\n                      );\n                    } else {\n                      return (\n                        <OverlayTrigger\n                          key={voting.contract._address}\n                          placement=\"right\"\n                          overlay={this.publicVotingTooltip}\n                        >\n                          <ListGroupItem\n                            className=\"public\"\n                            onClick={this.handleVotingClick}\n                            {...(voting.info.hasUserVoted ? { bsStyle: \"success\" } : null)}\n                          >\n                            {voting.info.question}\n                            <Glyphicon glyph=\"globe\" className=\"pull-right\" />\n                          </ListGroupItem>\n                        </OverlayTrigger>\n                      );\n                    }\n                  })\n                ) : (\n                  <Fragment>\n                    <HelpBlock style={{ textAlign: \"center\", fontSize: \"1.5em\", fontWeight: \"bold\" }}>\n                      No votings found\n                    </HelpBlock>{\" \"}\n                    <HelpBlock style={{ textAlign: \"center\" }}>\n                      Either your filters don't match any of the votings in the selected category or the category you\n                      selected is empty :(\n                    </HelpBlock>\n                  </Fragment>\n                )}\n              </ListGroup>\n            </Panel>\n            <div style={{ width: \"100%\" }}>\n              <div style={{ width: \"50%\", margin: \"0 auto\", textAlign: \"center\" }}>\n                {nrOfPages > 1 && (\n                  <Pagination>\n                    <Pagination.First\n                      onClick={this.state.activePageIndex !== 1 ? this.paginationFirst : null}\n                      disabled={this.state.activePageIndex === 1 ? true : false}\n                    />\n                    <Pagination.Prev\n                      onClick={this.state.activePageIndex > 1 ? this.paginationPrev : null}\n                      disabled={this.state.activePageIndex === 1 ? true : false}\n                    />\n                    <Pagination.Item id=\"xd\" autoFocus={true}>\n                      Page {this.state.activePageIndex}/{nrOfPages}\n                    </Pagination.Item>\n                    <Pagination.Next\n                      onClick={this.state.activePageIndex !== nrOfPages ? this.paginationNext : null}\n                      disabled={this.state.activePageIndex === nrOfPages ? true : false}\n                    />\n                    <Pagination.Last\n                      onClick={\n                        this.state.activePageIndex !== nrOfPages\n                          ? () => {\n                              this.paginationLast(nrOfPages);\n                            }\n                          : null\n                      }\n                      disabled={this.state.activePageIndex === nrOfPages ? true : false}\n                    />\n                  </Pagination>\n                )}\n              </div>\n            </div>\n          </Fragment>\n        ) : (\n          <Panel>\n            <Panel.Body>Fetching data from blockchain...</Panel.Body>\n          </Panel>\n        )}\n      </Fragment>\n    );\n  }\n\n  private handleVotingClick = (event: React.MouseEvent<ListGroupItem & HTMLInputElement>) => {\n    const question = event.currentTarget.innerText;\n    let chosenVotingIndex: number;\n    this.props.votings.forEach((voting, index) => {\n      if (voting.info.question === question) {\n        chosenVotingIndex = index;\n      }\n    });\n    this.props.setChosenVotingAddressInParent(this.props.votings[chosenVotingIndex].contract._address);\n  };\n\n  private fetchVotingsAndSetState = async () => {\n    const votings = await fetchVotings(this.props.blockchainData, this.props.category, this.props.votingState);\n    this.props.setVotingsInParent(votings);\n    this.setState({\n      areVotingsFetched: true,\n    });\n  };\n\n  private filteredVotings = () => {\n    let votings = this.props.votings;\n\n    if (this.props.filterPhase !== \"\") {\n      votings = votings.filter((voting) => {\n        return voting.info.question.includes(this.props.filterPhase);\n      });\n    }\n    return votings\n      .filter((voting) => {\n        if (!this.props.displayInaccessibleVotings) {\n          return voting.info.isPrivileged === null || voting.info.isPrivileged;\n        } else return true;\n      })\n      .filter((voting) => {\n        if (this.props.privacySetting === PrivacySetting.Private) {\n          return voting.info.isPrivate;\n        } else if (this.props.privacySetting === PrivacySetting.Public) {\n          return !voting.info.isPrivate;\n        } else return true;\n      })\n      .filter((voting) => {\n        const now = moment().utc().unix(); // prettier-ignore\n        if (this.props.votingState === VotingState.Active) {\n          return now <= voting.info.votingEndTime;\n        } else if (this.props.votingState === VotingState.Passive) {\n          return voting.info.votingEndTime < now && now <= voting.info.resultsEndTime;\n        } else return false;\n      });\n  };\n\n  private getVotingsForPage(votings: Voting[]) {\n    let index = this.state.activePageIndex - 1;\n    const dividedVotings: Voting[][] = [];\n\n    for (let i = 0; i < votings.length; i += this.nrOfVotingsPerPage) {\n      dividedVotings.push(votings.slice(i, i + this.nrOfVotingsPerPage));\n    }\n    if (dividedVotings.length === 1) index = 0;\n\n    return dividedVotings.length > 0 ? dividedVotings[index] : [];\n  }\n\n  private handlePageClick(index: number) {\n    if (this.state.activePageIndex !== index) {\n      this.setState({\n        activePageIndex: index,\n      });\n    }\n  }\n\n  private paginationFirst = () => {\n    this.setState({\n      activePageIndex: 1,\n    });\n    this.handlePageClick(1);\n  };\n\n  private paginationNext = () => {\n    const newIndex = this.state.activePageIndex + 1;\n    this.setState({\n      activePageIndex: newIndex,\n    });\n    this.handlePageClick(newIndex);\n  };\n\n  private paginationPrev = () => {\n    const newIndex = this.state.activePageIndex - 1;\n    this.setState({\n      activePageIndex: newIndex,\n    });\n    this.handlePageClick(newIndex);\n  };\n\n  private paginationLast = (length: number) => {\n    this.setState({\n      activePageIndex: length,\n    });\n    this.handlePageClick(length);\n  };\n}\n","import moment from \"moment\";\nimport React, { Component, Fragment } from \"react\";\nimport { Col, FormControl, Grid, HelpBlock, Row } from \"react-bootstrap\";\nimport Switch from \"react-switch\";\nimport { PrivacySetting, VotingState } from \"../../utils/enums\";\nimport { fetchResults } from \"../../utils/eth\";\nimport { BlockchainData, Category, ContractAddress, Voting } from \"../../utils/types\";\nimport ResultsModal from \"../vote/ResultsModal\";\nimport VoteModal from \"../vote/VoteModal\";\nimport CategoryDropdown from \"./CategoryDropdown\";\nimport PrivacyButtons from \"./PrivacyButtons\";\nimport VotingList from \"./VotingList\";\ninterface IListVotingsPanelProps {\n  blockchainData: BlockchainData;\n  votingState: VotingState;\n  title: string;\n}\n\ninterface IListVotingsPanelState {\n  categories: Category[];\n  chosenCategoryIndex: number;\n  votings: Voting[];\n  chosenVotingAddress: ContractAddress;\n  chosenPrivacySetting: PrivacySetting;\n  chosenAnswer: number;\n  displayInacessibleVotings: boolean;\n  filterPhase: string;\n\n  isDataRefreshRequested: boolean;\n  results: string[];\n  showResultsModal: boolean;\n  showVoteModal: boolean;\n}\nexport default class ListVotingsPanel extends Component<IListVotingsPanelProps, IListVotingsPanelState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      chosenAnswer: null,\n      chosenCategoryIndex: null,\n      chosenPrivacySetting: PrivacySetting.All,\n      chosenVotingAddress: null,\n      displayInacessibleVotings: false,\n      filterPhase: \"\",\n      isDataRefreshRequested: false,\n      results: [],\n      showResultsModal: false,\n      showVoteModal: false,\n      votings: [],\n    };\n  }\n\n  public setCategories = (categoriesFromChild: Category[]) => {\n    this.setState({ categories: categoriesFromChild });\n  };\n\n  public setPrivacySetting = (privacySettingFromChild: PrivacySetting) => {\n    this.setState({ chosenPrivacySetting: privacySettingFromChild, chosenVotingAddress: null });\n  };\n\n  public setVotings = (votingsFromChild: Voting[]) => {\n    this.setState({ votings: votingsFromChild });\n  };\n\n  public handleCategoryClick = (categoryIndexFromChild: number) => {\n    this.setState({ chosenCategoryIndex: categoryIndexFromChild, chosenVotingAddress: null });\n  };\n\n  public handleVotingClick = async (votingAddressFromChild: ContractAddress) => {\n    this.setState({ chosenVotingAddress: votingAddressFromChild });\n    if (votingAddressFromChild != null) {\n      const now = moment().utc().unix(); // prettier-ignore\n      const voting = this.state.votings.find((v) => v.contract._address === votingAddressFromChild);\n      if (now <= voting.info.votingEndTime) {\n        this.setState({\n          showResultsModal: false,\n          showVoteModal: true,\n        });\n      } else if (now <= voting.info.resultsEndTime) {\n        const results = await fetchResults(voting);\n        this.setState({\n          results,\n          showResultsModal: true,\n          showVoteModal: false,\n        });\n      }\n    }\n  };\n\n  public handleAnswerClick = (answerIndexFromChild: number) => {\n    this.setState({ chosenAnswer: answerIndexFromChild });\n  };\n\n  public dataRefreshed = () => {\n    this.setState({ isDataRefreshRequested: false });\n  };\n\n  public render() {\n    return (\n      <Grid fluid>\n        <Row style={{ textAlign: \"center\" }}>\n          <Col md={12}>\n            <h3 style={{ fontWeight: \"bold\", marginTop: \"1.2em\", marginBottom: \"1.2em\", fontSize: \"2.5em\" }}>\n              {this.props.title}\n            </h3>\n          </Col>\n        </Row>\n        <Row style={{ marginTop: \"5vh\" }}>\n          <Col md={6}>\n            <CategoryDropdown\n              blockchainData={this.props.blockchainData}\n              categories={this.state.categories}\n              chosenCategoryIndex={this.state.chosenCategoryIndex}\n              setCategoriesInParent={this.setCategories}\n              setChosenCategoryInParent={this.handleCategoryClick}\n            />\n          </Col>\n          <Col md={6}>\n            <PrivacyButtons\n              chosenPrivacySetting={this.state.chosenPrivacySetting}\n              setchosenPrivacySettingInParent={this.setPrivacySetting}\n            />\n          </Col>\n        </Row>\n        {this.state.chosenCategoryIndex != null && (\n          <Row>\n            <Col md={6}>\n              <HelpBlock>Filter the results</HelpBlock>\n              <FormControl type=\"text\" onChange={this.handleFilterChange} />\n            </Col>\n            <Col md={6}>\n              <HelpBlock>Display inaccessible votings</HelpBlock>\n              <Switch\n                checked={this.state.displayInacessibleVotings}\n                onChange={this.handleCheck}\n                onColor=\"#86d3ff\"\n                onHandleColor=\"#2693e6\"\n                uncheckedIcon={false}\n                checkedIcon={false}\n              />\n            </Col>\n          </Row>\n        )}\n\n        <Row style={{ marginTop: \"3vh\" }}>\n          <Col md={12}>\n            {this.state.chosenCategoryIndex != null && (\n              <VotingList\n                category={this.state.categories[this.state.chosenCategoryIndex]}\n                votings={this.state.votings}\n                chosenVotingAddress={this.state.chosenVotingAddress}\n                setVotingsInParent={this.setVotings}\n                setChosenVotingAddressInParent={this.handleVotingClick}\n                blockchainData={this.props.blockchainData}\n                privacySetting={this.state.chosenPrivacySetting}\n                votingState={this.props.votingState}\n                dataRefreshRequestHandled={this.dataRefreshed}\n                isDataRefreshRequested={this.state.isDataRefreshRequested}\n                displayInaccessibleVotings={this.state.displayInacessibleVotings}\n                filterPhase={this.state.filterPhase}\n              />\n            )}\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            {this.state.chosenVotingAddress != null && (\n              <Fragment>\n                <VoteModal\n                  voting={this.state.votings.find(\n                    (voting) => voting.contract._address === this.state.chosenVotingAddress\n                  )}\n                  blockchainData={this.props.blockchainData}\n                  chosenAnswer={this.state.chosenAnswer}\n                  setChosenAnswerInParent={this.handleAnswerClick}\n                  requestDataRefresh={() => this.setState({ isDataRefreshRequested: true })}\n                  show={this.state.showVoteModal}\n                  handleOnHide={() => this.setState({ showVoteModal: false })}\n                />\n                <ResultsModal\n                  handleOnHide={() => this.setState({ showResultsModal: false })}\n                  voting={this.state.votings.find(\n                    (voting) => voting.contract._address === this.state.chosenVotingAddress\n                  )}\n                  results={this.state.results}\n                  show={this.state.showResultsModal}\n                />\n              </Fragment>\n            )}\n          </Col>\n        </Row>\n      </Grid>\n    );\n  }\n  private handleCheck = () => {\n    this.setState({\n      displayInacessibleVotings: !this.state.displayInacessibleVotings,\n    });\n  };\n\n  private handleFilterChange = (e) => {\n    this.setState({\n      filterPhase: e.target.value,\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport { Col, Grid, Row } from \"react-bootstrap\";\nimport { PrivacySetting, VotingState } from \"../../utils/enums\";\nimport { BlockchainData, Category, Voting } from \"../../utils/types\";\nimport ListVotingsPanel from \"./ListVotingsPanel\";\n\ninterface IListVotingsPageProps {\n  blockchainData: BlockchainData;\n}\n\ninterface IListVotingsPageState {\n  categories: Category[];\n  chosenCategoryIndex: number;\n  votings: Voting[];\n  chosenVotingIndex: number;\n  chosenPrivacySetting: PrivacySetting;\n}\n\nexport default class ListVotingsPage extends Component<IListVotingsPageProps, IListVotingsPageState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      chosenCategoryIndex: null,\n      chosenPrivacySetting: PrivacySetting.All,\n      chosenVotingIndex: null,\n      votings: [],\n    };\n  }\n\n  public setCategories = (categoriesFromChild: Category[]) => {\n    this.setState({ categories: categoriesFromChild });\n  };\n\n  public setVotings = (votingsFromChild: Voting[]) => {\n    this.setState({ votings: votingsFromChild });\n  };\n\n  public handleCategoryClick = (categoryIndexFromChild: number) => {\n    this.setState({ chosenCategoryIndex: categoryIndexFromChild, chosenVotingIndex: null });\n  };\n\n  public handleVotingClick = (votingIndexFromChild: number) => {\n    this.setState({ chosenVotingIndex: votingIndexFromChild });\n  };\n\n  public render() {\n    return (\n      <Grid fluid>\n        <Row>\n          <Col md={5} mdOffset={1}>\n            <ListVotingsPanel\n              blockchainData={this.props.blockchainData}\n              title=\"Active Votings\"\n              votingState={VotingState.Active}\n            />\n          </Col>\n          <Col md={5}>\n            <ListVotingsPanel\n              blockchainData={this.props.blockchainData}\n              title=\"Finished Votings\"\n              votingState={VotingState.Passive}\n            />\n          </Col>\n        </Row>\n      </Grid>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Col, Grid, Row } from \"react-bootstrap\";\nimport Loader from \"react-loader-spinner\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Web3 from \"web3\";\nimport * as AppConfig from \"../config.json\";\nimport ManagerAbi from \"../contracts/ManagerContract.json\";\nimport { ManagerContract } from \"../typed-contracts/ManagerContract\";\nimport { BlockchainData } from \"../utils/types.js\";\nimport AboutPage from \"./about/AboutPage\";\nimport Header from \"./common/Header\";\nimport CreateVotePage from \"./createVote/CreateVotePage\";\nimport HomePage from \"./home/HomePage\";\nimport NoAccessPage from \"./home/NoAccessPage\";\nimport ListVotingsPage from \"./listvotings/ListVotingsPage\";\n\ninterface IAppState {\n  blockchainData: BlockchainData;\n  noMetamask: boolean;\n  waitingForAccess: boolean;\n  wrongNetwork: boolean;\n  connectedNetworkType: string;\n}\n\nexport default class App extends Component<any, IAppState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      blockchainData: null,\n      connectedNetworkType: \"\",\n      noMetamask: false,\n      waitingForAccess: true,\n      wrongNetwork: false,\n    };\n  }\n  // tslint:disable:no-string-literal\n  public componentDidMount = async () => {\n    if (!window[\"ethereum\"]) {\n      this.setState({\n        noMetamask: true,\n      });\n      return;\n    }\n    let wrongNetwork = false;\n    let networkType = \"\";\n    try {\n      const accounts = await window[\"ethereum\"].enable();\n      const web3 = new Web3(window[\"ethereum\"]);\n      networkType = await (web3.eth.net as any).getNetworkType();\n      if (networkType !== AppConfig.network) {\n        wrongNetwork = true;\n        throw new Error(\"Metamask is connected to other network than the one defined in application\");\n      }\n      const instance = new web3.eth.Contract(ManagerAbi.abi, AppConfig.managerContractAddress) as ManagerContract;\n      instance.setProvider(web3.currentProvider);\n      instance.options.from = accounts[0];\n      this.setState({\n        blockchainData: { manager: instance, accounts, web3 },\n      });\n    } catch (e) {\n      console.error(e);\n    } finally {\n      this.setState({\n        connectedNetworkType: networkType,\n        waitingForAccess: false,\n        wrongNetwork,\n      });\n    }\n  };\n  // tslint:enable:no-string-literal\n  public lol = () => {\n    this.forceUpdate();\n  };\n  public render() {\n    if (this.state.noMetamask) {\n      const title = \"No MetaMask detected\";\n      const firstParagraph = \"This application needs MetaMask browser extension to work properly.\";\n      const secondParagraph = (\n        <span>\n          <a href=\"https://metamask.io/\">Install it now</a> create your first wallet and come back later.\n        </span>\n      );\n      return (\n        <div>\n          <Header block={3} />\n          <NoAccessPage title={title} firstParagraph={firstParagraph} secondParagraph={secondParagraph} imgChoice={1} />\n        </div>\n      );\n    }\n    if (this.state.waitingForAccess) {\n      return (\n        <div>\n          <Header block={4} />\n          <Grid>\n            <Row className=\"text-center\">\n              <div\n                style={{\n                  marginTop: \"10vh\",\n                }}\n              >\n                <Loader style={{ marginTop: \"20vh\" }} type=\"Grid\" color=\"#00BFFF\" height=\"30%\" width=\"30%\" />\n              </div>\n            </Row>\n            <Row className=\"text-center\">\n              <Col sm={12}>\n                <h1\n                  style={{\n                    fontFamily: \"Roboto\",\n                    marginBottom: \"5vh\",\n                    marginTop: \"5vh\",\n                    textAlign: \"center\",\n                  }}\n                >\n                  Waiting for access\n                </h1>\n              </Col>\n            </Row>\n          </Grid>\n        </div>\n      );\n    } else if (!this.state.blockchainData && this.state.wrongNetwork) {\n      const title = \"Wrong network\";\n      const firstParagraph =\n        \"This distributed application is defined to work with '\" +\n        AppConfig.network +\n        \"' network. You are currently connected to '\" +\n        this.state.connectedNetworkType +\n        \"'\";\n      const secondParagraph = \"Change the network you are connecting to in your Metamask extension.\";\n      return (\n        <div>\n          <Header block={3} />\n          <NoAccessPage title={title} firstParagraph={firstParagraph} secondParagraph={secondParagraph} imgChoice={2} />\n        </div>\n      );\n    } else if (!this.state.blockchainData) {\n      const title = \"Access request rejected\";\n      const firstParagraph = \"This distributed application needs access to your Metamask data.\";\n      const secondParagraph = \"Refresh page and grant access when the Metamask pop-up window appears.\";\n      return (\n        <div>\n          <Header block={3} />\n          <NoAccessPage title={title} firstParagraph={firstParagraph} secondParagraph={secondParagraph} imgChoice={3} />\n        </div>\n      );\n    } else {\n      return (\n        <Router>\n          <div>\n            <Header block={0} />\n            <div>\n              <Route exact path=\"/\" render={() => <HomePage blockchainData={this.state.blockchainData} />} />\n              <Route path=\"/createvote\" render={() => <CreateVotePage blockchainData={this.state.blockchainData} />} />\n              <Route\n                path=\"/listvotings\"\n                render={() => <ListVotingsPage blockchainData={this.state.blockchainData} />}\n              />\n              <Route path=\"/about\" component={AboutPage} />\n            </div>\n          </div>\n        </Router>\n      );\n    }\n  }\n}\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\") as HTMLElement\n);\n"],"sourceRoot":""}